{"meta":{"title":"ç¡ä¸é†’çš„é»‘å®¢","subtitle":"ğŸ˜2333","description":"å…´è¶£ä½¿ç„¶çš„å‰ç«¯åšå®¢","author":"HanQ","url":"https://hq229075284.github.io/blog"},"pages":[{"title":"About","date":"2022-08-31T01:14:17.716Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"about/index.html","permalink":"https://hq229075284.github.io/blog/about/index.html","excerpt":"","text":""},{"title":"","date":"2022-08-31T01:14:17.716Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"github/index.html","permalink":"https://hq229075284.github.io/blog/github/index.html","excerpt":"","text":"@keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } @keyframes slideUpFadeIn { 0% { opacity: 0; transform: translateY(80px); } 100% { opacity: 1; transform: translateY(0px); } } .loading { text-align: center; padding-top: 20px; } .loading::before { content: ''; vertical-align: middle; border: 1px solid #bec0c1; width: 14px; height: 14px; box-sizing: border-box; display: inline-block; border-radius: 50%; border-right-color: transparent; animation: rotate 1s linear infinite both; margin-right: 8px; } .slideUpFadeIn { animation: slideUpFadeIn 0.5s ease-in both; } loading... let page = 1 const pageSize = 100 const token = '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' function getList(prevData = []) { return axios({ url: `https://api.github.com/user/repos`, method: 'get', params: { accept: 'application/vnd.github.v3+json', sort: 'created', direction: 'desc', page: page, per_page: pageSize, since:new Date('2010-01-01 00:00:00').toISOString(), before:new Date().toISOString() }, headers: { Authorization: 'token '+token } }).then(({ data }) => { prevData = prevData.concat(data) if (prevData.length < page * pageSize) { return Promise.resolve(prevData) } page += 1 return getList(prevData) }) } function setStyle(dom, styles) { for (let property in styles) { const attribute = styles[property] dom.style[property] = attribute } } const classifyMap = { // æœ€æ–°æ·»åŠ  new: { title: 'æœ€æ–°æ·»åŠ ', list: [] }, // ç»´æŠ¤ä¸­ maintenance: { title: 'ç»´æŠ¤ä¸­', list: [] }, // fork fork: { title: 'fork', list: [] }, // other other: { title: 'æœªåˆ†ç±»', list: [] } } function generateContentBySort(data) { const ul = document.createElement('ul') if (data.length === 0) { const div = document.createElement('div') div.textContent = 'æš‚æ— æ•°æ®' setStyle(div, { 'text-align': 'center', padding: '10px' }) return div } data.map(one => { const li = document.createElement('li') setStyle(li, { display: 'inline-block', width: '33%', padding: '4px', 'box-sizing': 'border-box', 'word-break': 'break-all', 'vertical-align': 'top', height: '160px' }) const a = document.createElement('a') setStyle(a, { borderRadius: '10px', backgroundColor: '#fff', height: '100%', 'box-shadow': '0 0 2px #eceff2', display: 'block' }) a.href = one.html_url a.target = '_blank' li.append(a) let div div = document.createElement('div') div.textContent = one.name div.setAttribute('title', one.name) setStyle(div, { padding: '10px', 'font-size': '24px', 'font-weight': 700, 'border-bottom': '1px solid #eceff2', 'white-space': 'nowrap', 'text-overflow': 'ellipsis', 'overflow': 'hidden' }) a.append(div) div = document.createElement('div') div.textContent = one.description setStyle(div, { padding: '10px', 'font-size': '14px', 'color': '#585858' }) a.append(div) ul.append(li) }) return ul } function isMatch(regList, str) { for (r of regList) { const reg = new RegExp(r) if (reg.test(str)) { return true } } return false } const maintenanceRegs = [ 'eslint-config', 'file-split', 'blog', 'comet-test', 'react-ssr-test', 'test-component', 'image-view-component', 'usualAlgorithm', 'about-common-logic', 'blog', 'blog-assets', ] getList().then(data => { classifyMap.new.list = data.splice(0, 12) data.forEach(one => { if (one.fork) { classifyMap.fork.list.push(one) return } if (isMatch(maintenanceRegs, one.name)) { classifyMap.maintenance.list.push(one) return } classifyMap.other.list.push(one) }) $repositoryContainer = document.querySelector('.repository-container') $repositoryContainer.children[0].remove() for (let key in classifyMap) { const h2 = document.createElement('h2') // const a=document.createElement('a') // a.setAttribute('id',key) // a.href=\"#\"+key // a.textContent = classifyMap[key].title+'('+classifyMap[key].list.length+')' // h2.append(a) h2.textContent = classifyMap[key].title + ' (' + classifyMap[key].list.length + ')' setStyle(h2, { padding: '10px', 'margin-bottom': '4px', 'border-bottom': '1px solid #eceff2', 'font-size': '24px' }) $repositoryContainer.append(h2) const contentHtmlNode = generateContentBySort(classifyMap[key].list) $repositoryContainer.append(contentHtmlNode) } $repositoryContainer.classList.add('slideUpFadeIn') }) void 0"}],"posts":[{"title":"notes","slug":"notes","date":"2022-08-31T01:14:17.716Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2022/08/notes/","link":"","permalink":"https://hq229075284.github.io/blog/2022/08/notes/","excerpt":"æ‚è®° æ‚è®° white-spaceè¡¨ç°å½¢å¼ terseté…ç½® MutationObserveræ³¨æ„ç‚¹ å®¹å™¨å‡ºç°æ»šåŠ¨æ¡æ—¶ï¼Œå­å®¹å™¨çš„å®½åº¦æ˜¯å¦å› ä¸ºæ»šåŠ¨æ¡è€Œæ”¹å˜ webpack å¤šçº¿ç¨‹å’Œcacheä¼˜åŒ– å…¶ä»–è®°å½•-ä»¥ååˆ†ç±» white-spaceè¡¨ç°å½¢å¼ white-spaceğŸ‘‡ ç©ºæ ¼( ) éæ–­ç©ºæ ¼(&amp;nbsp;) æ¢è¡Œç¬¦(\\n) normal ä¿ç•™1ä¸ªç©ºæ ¼ï¼Œæˆ–è€…åœ¨å¤šç©ºæ ¼çš„æ—¶å€™ä»…ä¿ç•™1ä¸ªç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ è¡¨ç°ä¸º1ä¸ªç©ºæ ¼ï¼Œä¸æ¢è¡Œ pre ä¿ç•™å…¨éƒ¨çš„ç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ ä¼šæ¢è¡Œï¼Œä½†å½“æ–‡æœ¬æº¢å‡ºå®¹å™¨æ—¶ä¸ä¼šè‡ªåŠ¨æ¢è¡Œ pre-line ä¿ç•™1ä¸ªç©ºæ ¼ï¼Œæˆ–è€…åœ¨å¤šç©ºæ ¼çš„æ—¶å€™ä»…ä¿ç•™1ä¸ªç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ ä¼šæ¢è¡Œ pre-wrap ä¿ç•™å…¨éƒ¨çš„ç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ ä¼šæ¢è¡Œ no-wrap ä¿ç•™1ä¸ªç©ºæ ¼ï¼Œæˆ–è€…åœ¨å¤šç©ºæ ¼çš„æ—¶å€™ä»…ä¿ç•™1ä¸ªç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ è¡¨ç°ä¸º1ä¸ªç©ºæ ¼ï¼Œä¸æ¢è¡Œ","text":"æ‚è®° æ‚è®° white-spaceè¡¨ç°å½¢å¼ terseté…ç½® MutationObserveræ³¨æ„ç‚¹ å®¹å™¨å‡ºç°æ»šåŠ¨æ¡æ—¶ï¼Œå­å®¹å™¨çš„å®½åº¦æ˜¯å¦å› ä¸ºæ»šåŠ¨æ¡è€Œæ”¹å˜ webpack å¤šçº¿ç¨‹å’Œcacheä¼˜åŒ– å…¶ä»–è®°å½•-ä»¥ååˆ†ç±» white-spaceè¡¨ç°å½¢å¼ white-spaceğŸ‘‡ ç©ºæ ¼( ) éæ–­ç©ºæ ¼(&amp;nbsp;) æ¢è¡Œç¬¦(\\n) normal ä¿ç•™1ä¸ªç©ºæ ¼ï¼Œæˆ–è€…åœ¨å¤šç©ºæ ¼çš„æ—¶å€™ä»…ä¿ç•™1ä¸ªç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ è¡¨ç°ä¸º1ä¸ªç©ºæ ¼ï¼Œä¸æ¢è¡Œ pre ä¿ç•™å…¨éƒ¨çš„ç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ ä¼šæ¢è¡Œï¼Œä½†å½“æ–‡æœ¬æº¢å‡ºå®¹å™¨æ—¶ä¸ä¼šè‡ªåŠ¨æ¢è¡Œ pre-line ä¿ç•™1ä¸ªç©ºæ ¼ï¼Œæˆ–è€…åœ¨å¤šç©ºæ ¼çš„æ—¶å€™ä»…ä¿ç•™1ä¸ªç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ ä¼šæ¢è¡Œ pre-wrap ä¿ç•™å…¨éƒ¨çš„ç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ ä¼šæ¢è¡Œ no-wrap ä¿ç•™1ä¸ªç©ºæ ¼ï¼Œæˆ–è€…åœ¨å¤šç©ºæ ¼çš„æ—¶å€™ä»…ä¿ç•™1ä¸ªç©ºæ ¼ å…¨éƒ¨éæ–­ç©ºæ ¼éƒ½ä¿ç•™ è¡¨ç°ä¸º1ä¸ªç©ºæ ¼ï¼Œä¸æ¢è¡Œ terseté…ç½®12345678910111213141516171819202122232425262728293031323334new TerserPlugin(&#123; // test: /\\.js(\\?.*)?$/i, // exclude: /node_modules/, terserOptions: &#123; // ecma: undefined, warnings: false, parse: &#123; ecma: 8 &#125;, compress: &#123; ecma: 5,// é»˜è®¤å€¼ï¼Œé˜²æ­¢es5ä»£ç è¢«æ›¿æ¢æˆes6+çš„ä»£ç  passes: 3, pure_funcs: ['console.log', 'console.info'], toplevel: true // https://github.com/terser/terser/issues/120ï¼ˆå·²ä¿®å¤ï¼‰ // inline: 2 &#125;, mangle: true, // Note `mangle.properties` is `false` by default. output: &#123; ecma: 5, // é»˜è®¤å€¼ï¼Œé˜²æ­¢es5ä»£ç è¢«æ›¿æ¢æˆes6+çš„ä»£ç  // Turned on because emoji and regex is not minified properly using default // https://github.com/facebook/create-react-app/issues/2488 ascii_only: true, &#125;, module: false, toplevel: false, nameCache: null, ie8: false, keep_classnames: undefined, keep_fnames: false, safari10: false, &#125;, // parallel: getCpuCount()&#125;) MutationObserveræ³¨æ„ç‚¹1234567891011121314151617181920212223242526observer=new MutationObserver(mutations=&gt;&#123;console.log('1',mutations)&#125;)observer2=new MutationObserver(mutations=&gt;&#123;console.log('2',mutations)&#125;)observer3=new MutationObserver(mutations=&gt;&#123;console.log('3',mutations)&#125;)const input=document.querySelector('input')observer3.observe(input,&#123;attributes: true&#125;)observer2.observe(input,&#123;attributes: true&#125;)observer.observe(input,&#123;attributes: true&#125;)setTimeout(()=&gt;&#123; input.classList.add('a1')&#125;,1000)// å½“ç›‘å¬çš„å…ƒç´ å‘ç”Ÿæ”¹å˜æ—¶ä¼šæŒ‰newçš„é¡ºåºæ‰§è¡Œç›‘å¬å›è°ƒ// æ‰€ä»¥ç»“æœä¸º:// 1 [MutationRecord]// 2 [MutationRecord]// 3 [MutationRecord] å®¹å™¨å‡ºç°æ»šåŠ¨æ¡æ—¶ï¼Œå­å®¹å™¨çš„å®½åº¦æ˜¯å¦å› ä¸ºæ»šåŠ¨æ¡è€Œæ”¹å˜ TODO:å¢åŠ æµ‹è¯•æ•°æ®è¡¨æ ¼ ä»…å½“åˆæ¬¡æ¸²æŸ“æ—¶ï¼Œå­å…ƒç´ çš„é«˜åº¦è¶…è¿‡çˆ¶å…ƒç´ çš„é«˜åº¦ï¼ˆæ­¤æ—¶çˆ¶å…ƒç´ çš„overflow-yå€¼ä¸ºautoï¼‰ï¼Œå¯¼è‡´çˆ¶å…ƒç´ å‡ºç°æ»šåŠ¨æ¡ï¼Œå¦‚æœå­å…ƒç´ çš„å®½åº¦æ˜¯ä¸€ä¸ªå›ºå®šçš„å¤§å°ï¼Œä¸”åœ¨è§†å›¾ä¸Šä¸æ»šåŠ¨æ¡æœ‰é‡åˆï¼Œæ­¤æ—¶æ»šåŠ¨æ¡ä¼šè¦†ç›–åœ¨å­å…ƒç´ çš„è§†å›¾ä¸Šï¼Œå½“å†æ¬¡è§¦å‘æ¸²æŸ“æ—¶ï¼Œæ¢å¤æ­£å¸¸ï¼ˆå‡ºç°æ¨ªå‘æ»šåŠ¨æ¡ï¼‰ï¼Œæ­¤ç°è±¡åœ¨æ°´å¹³å’Œå‚ç›´æ–¹å‘ä¸Šéƒ½å­˜åœ¨ webpack å¤šçº¿ç¨‹å’Œcacheä¼˜åŒ– ç¬¬ä¸€æ¬¡pack(ms) ç¬¬äºŒæ¬¡pack(ms) æ— ä¼˜åŒ– 54561 53825 cache-loader 52237 48472 thread-loader 52445 52049 cache-loader &amp; thread-loader 55297 52036 hard-source-webpack-pluginï¼ˆç¼ºä¹ç»´æŠ¤ï¼‰ 54447 42747 cache-loaderã€thread-loaderä¼˜åŒ–ä¸æ˜æ˜¾ï¼ŒåæœŸå†çœ‹çœ‹ å…¶ä»–è®°å½•-ä»¥ååˆ†ç±» absoluteå®šä½å°†relativeå®šä½çš„çˆ¶çº§çš„paddingåŒºåŸŸå·¦ä¸Šè§’è§†ä¸ºåŸç‚¹ åœ¨æ— relaitveçˆ¶çº§çš„æƒ…å†µä¸‹ï¼Œå°†windowçª—å£çš„å·¦ä¸Šè§’è§†ä¸ºåŸç‚¹ DOMä¸­ELEMENTå…ƒç´ åœ¨åŠ¨ç”»å’Œè¿‡æ¸¡çš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡getClientRectsè·å–çš„ELEMENTå…ƒç´ ä½ç½®ä¿¡æ¯æ˜¯å®æ—¶çš„ï¼Œåœ¨å˜åŒ–çš„è¿‡ç¨‹ä¸­ä¼šæŒç»­æ”¹å˜ vueç»„ä»¶å®ä¾‹çš„$vnodeå¯¹è±¡ç­‰åŒäºç›¸åº”æ’æ§½ä¸­çš„ç›¸åº”æ’æ§½ä½ç½®çš„å¯¹è±¡ï¼Œæ¯”å¦‚ï¼š1exampleVueComponent.$vnode &#x3D;&#x3D;&#x3D; this.$slots.default[0] &#x2F;&#x2F; true vueå®ä¾‹çš„$destroyå‡½æ•°ä¸ä¼šåˆ é™¤å¯¹åº”ç»„ä»¶çš„èŠ‚ç‚¹ï¼Œä»…ç”¨äºåŒæ­¥ä¸”æŒ‰é¡ºåºè§¦å‘beforeDestroy å’Œdestroyedè¿™ä¸¤ä¸ªhook,ï¼Œç¤ºä¾‹ï¼š 1&lt;div id=\"app\"&gt;&lt;/div&gt; 123456789101112131415161718192021222324252627282930const comp1 = &#123; mounted() &#123; console.log(window.b = this.$slots.default[0]) &#125;, render(h) &#123; return h('div', &#123;&#125;, this.$slots.default) &#125;&#125;const comp2 = &#123; beforeDestroy() &#123; console.log('beforeDestroy'); return new Promise(() =&gt; &#123; &#125;) &#125;, destroyed() &#123; console.log('destroyed') &#125;, render(h) &#123; return h('h2', &#123;&#125;, ['has a h2']) &#125;&#125;new Vue(&#123; el: '#app', render(h) &#123; return h('comp1', &#123;&#125;, [h('comp2', &#123; ref: 'comp2' &#125;)]) &#125;, mounted() &#123; console.log(window.a = this.$refs.comp2) this.$refs.comp2.$destroy(); console.log('h2 remove') &#125;, components: &#123; comp1, comp2, &#125;,&#125;)","categories":[],"tags":[]},{"title":"Grid","slug":"css-grid","date":"2022-04-15T16:11:20.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2022/04/css-grid/","link":"","permalink":"https://hq229075284.github.io/blog/2022/04/css-grid/","excerpt":"","text":"css-gridï¼ˆæ‰‹æœºè‡ªå¸¦æµè§ˆå™¨å’Œwebviewï¼Œä»¥åŠéIEçš„ä¸»æµæ¡Œé¢æµè§ˆå™¨ï¼‰demo ç½‘æ ¼ âš ğŸ‘‡ ä»¥ä¸‹æ˜¾å¼ç½‘æ ¼ã€éšå¼ç½‘æ ¼æš‚ä¸è€ƒè™‘æº¢å‡ºçš„æƒ…å†µ æ˜¾å¼ç½‘æ ¼ grid-template-columnsï¼šæŒ‡å®šæ˜¾å¼ç½‘æ ¼åˆ—çš„æ•°é‡å’Œåˆ—å®½ gird-template-rowsï¼šæŒ‡å®šæ˜¾å¼ç½‘æ ¼è¡Œçš„æ•°é‡å’Œè¡Œé«˜ grid-template-columnså’Œgird-template-rowsæ‰€æ„æˆçš„ç½‘æ ¼ä¸ºæ˜¾å¼ç½‘æ ¼ï¼Œå…¶å®ƒé¢å¤–åˆ›å»ºçš„ç½‘æ ¼ä¸ºéšå¼ç½‘æ ¼ ç½‘æ ¼å®¹å™¨å®½åº¦å›ºå®šæ—¶ ç½‘æ ¼å®½åº¦ä¸ºå›ºå®šå€¼ï¼Œè¯¥åˆ—çš„åˆ—å®½ç­‰äºè¿™ä¸ªå›ºå®šå€¼ ç½‘æ ¼å®½åº¦ä¸ºnfræ—¶ï¼Œè¯¥åˆ—çš„åˆ—å®½ä¸ºå®¹å™¨å®½åº¦-å›ºå®šç½‘æ ¼å®½åº¦åè¢«åˆ—ç­‰åˆ†åçš„nä»½ ç½‘æ ¼å®¹å™¨é«˜åº¦å›ºå®šæ—¶ï¼Œ ç½‘æ ¼é«˜åº¦ä¸ºå›ºå®šå€¼ï¼Œè¯¥è¡Œçš„è¡Œé«˜ç­‰äºè¿™ä¸ªå›ºå®šå€¼ ç½‘æ ¼é«˜åº¦ä¸ºnfræ—¶ï¼Œç½‘æ ¼çš„è¡Œé«˜ä¸ºå®¹å™¨é«˜åº¦-å›ºå®šç½‘æ ¼é«˜åº¦åè¢«è¡Œç­‰åˆ†åçš„nä»½ ç½‘æ ¼å®¹å™¨æœªæŒ‡å®šé«˜åº¦æ—¶ï¼Œæ˜¾å¼ç½‘æ ¼å†…çš„ç½‘æ ¼é«˜åº¦ç”±åŒè¡Œå†…å®¹é«˜åº¦æœ€é«˜çš„ç½‘æ ¼å†³å®š ç½‘æ ¼å®¹å™¨æœªæŒ‡å®šå®½åº¦ä¸”ä¸è¶…è¿‡çˆ¶çº§å…ƒç´ å®½åº¦æ—¶ï¼Œæ‰€æœ‰ç½‘æ ¼å®½åº¦ç”±æ‰€æœ‰ç½‘æ ¼ä¸­å†…å®¹å®½åº¦æœ€å¤§çš„ç½‘æ ¼å†³å®š éšå¼ç½‘æ ¼ grid-auto-columnsï¼šæŒ‡å®šéšå¼ç½‘æ ¼çš„åˆ—å®½ grid-auto-rowsï¼šæŒ‡å®šéšå¼ç½‘æ ¼çš„è¡Œé«˜ å®¹å™¨å¤§å°å›ºå®šæ—¶ï¼Œç½‘æ ¼å¤§å°æŒ‰ç½‘æ ¼å®¹å™¨ç­‰åˆ†è®¡ç®—ï¼ŒåŒæ˜¾å¼ç½‘æ ¼çš„1å’Œ2 å®¹å™¨å¤§å°ä¸å›ºå®šæ—¶ï¼ŒåŒæ˜¾å¼ç½‘æ ¼çš„3å’Œ4 æ˜¾ç¤º/éšå¼æ··åˆåŒæ—¶å­˜åœ¨äºç½‘æ ¼å®¹å™¨ä¸­è‹¥ç½‘æ ¼å®¹å™¨å†…åŒæ—¶å­˜åœ¨éšå¼ç½‘æ ¼å’Œæ˜¾å¼ç½‘æ ¼ï¼š å®¹å™¨å¤§å°å›ºå®šæ—¶ï¼Œæ‰€æœ‰ç½‘æ ¼çš„å®½åº¦è®¡ç®—åŒæ˜¾å¼ç½‘æ ¼çš„1ï¼Œéšå¼ç½‘æ ¼é«˜åº¦è®¡ç®—åŒæ˜¾å¼ç½‘æ ¼çš„3ï¼Œæ˜¾å¼ç½‘æ ¼çš„é«˜åº¦è®¡ç®—æ˜¯åœ¨ç½‘æ ¼å®¹å™¨é«˜åº¦å‡å»éšå¼ç½‘æ ¼å ç”¨é«˜åº¦åå‰©ä½™é«˜åº¦çš„åŸºç¡€ä¸Šï¼Œè¿›è¡ŒåŒæ˜¾å¼ç½‘æ ¼çš„2 å®¹å™¨å¤§å°ä¸å›ºå®šæ—¶ï¼ŒåŒæ˜¾å¼ç½‘æ ¼çš„3å’Œ4 frfrå•ä½è¡¨ç¤ºç½‘æ ¼å¸ƒå±€å‰ï¼Œæ‰£é™¤æ˜ç¡®çš„ä½¿ç”¨ç©ºé—´ï¼ˆå¦‚ï¼š500pxï¼‰åï¼Œå‰©ä½™å¯ç”¨ç©ºé—´è¢«ç­‰åˆ†åçš„ä¸€ä»½ 123.grid&#123; grid-template-columns: 500px 1fr 2fr; // è®¡ç®—æ–¹å¼ =&gt; (width - 500px)/(1fr + 2fr)&#125; minmaxç½‘æ ¼è¡Œé«˜æˆ–åˆ—å®½çš„å¤§å°é™å®šåŒºé—´ å‚è€ƒ ç½‘æ ¼å¸ƒå±€çš„åŸºæœ¬æ¦‚å¿µ","categories":[{"name":"css","slug":"css","permalink":"https://hq229075284.github.io/blog/categories/css/"}],"tags":[{"name":"css","slug":"css","permalink":"https://hq229075284.github.io/blog/tags/css/"}]},{"title":"cssé€‰æ‹©å™¨å’Œstyleå±æ€§çš„æƒå€¼è®¡ç®—å’Œæ¯”è¾ƒ","slug":"cssä¼˜å…ˆçº§","date":"2022-04-15T16:11:10.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2022/04/cssä¼˜å…ˆçº§/","link":"","permalink":"https://hq229075284.github.io/blog/2022/04/css%E4%BC%98%E5%85%88%E7%BA%A7/","excerpt":"16. Calculating a selectorâ€™s specificity 6.4.3 Calculating a selectorâ€™s specificity è¯¯åŒºåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½å‘ç°ç»™é€‰æ‹©å™¨åŠ æƒå€¼çš„è¯´æ³•ï¼Œå³ ID é€‰æ‹©å™¨æƒå€¼ä¸º 100ï¼Œç±»é€‰æ‹©å™¨æƒå€¼ä¸º 10ï¼Œæ ‡ç­¾é€‰æ‹©å™¨æƒå€¼ä¸º 1ï¼Œå½“ä¸€ä¸ªé€‰æ‹©å™¨ç”±å¤šä¸ª ID é€‰æ‹©å™¨ã€ç±»é€‰æ‹©å™¨æˆ–æ ‡ç­¾é€‰æ‹©å™¨ç»„æˆæ—¶ï¼Œåˆ™å°†æ‰€æœ‰æƒå€¼ç›¸åŠ ï¼Œç„¶åå†æ¯”è¾ƒæƒå€¼ã€‚è¿™ç§è¯´æ³•å…¶å®æ˜¯æœ‰é—®é¢˜çš„ã€‚æ¯”å¦‚ä¸€ä¸ªç”± 11 ä¸ªç±»é€‰æ‹©å™¨ç»„æˆçš„é€‰æ‹©å™¨å’Œä¸€ä¸ªç”± 1 ä¸ª ID é€‰æ‹©å™¨ç»„æˆçš„é€‰æ‹©å™¨æŒ‡å‘åŒä¸€ä¸ªæ ‡ç­¾ï¼ŒæŒ‰ç†è¯´ 110 &gt; 100ï¼Œåº”è¯¥åº”ç”¨å‰è€…çš„æ ·å¼ï¼Œç„¶è€Œäº‹å®æ˜¯åº”ç”¨åè€…çš„æ ·å¼ã€‚é”™è¯¯çš„åŸå› æ˜¯ï¼šæƒé‡çš„è¿›åˆ¶æ˜¯å¹¶ä¸æ˜¯åè¿›åˆ¶ï¼ŒCSS æƒé‡è¿›åˆ¶åœ¨ IE6 ä¸º 256ï¼Œåæ¥æ‰©å¤§åˆ°äº† 65536ï¼Œç°ä»£æµè§ˆå™¨åˆ™é‡‡ç”¨æ›´å¤§çš„æ•°é‡ã€‚ã€‚è¿˜æ˜¯æ‹¿åˆšåˆšçš„ä¾‹å­è¯´æ˜ã€‚11 ä¸ªç±»é€‰æ‹©å™¨ç»„æˆçš„é€‰æ‹©å™¨çš„æ€»æƒå€¼ä¸º 110ï¼Œä½†å› ä¸º 11 ä¸ªå‡ä¸ºç±»é€‰æ‹©å™¨ï¼Œæ‰€ä»¥å…¶å®æ€»æƒå€¼æœ€å¤šä¸èƒ½è¶…è¿‡ 100ï¼Œ ä½ å¯ä»¥ç†è§£ä¸º 99.99ï¼Œæ‰€ä»¥æœ€ç»ˆåº”ç”¨åè€…æ ·å¼ã€‚","text":"16. Calculating a selectorâ€™s specificity 6.4.3 Calculating a selectorâ€™s specificity è¯¯åŒºåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½å‘ç°ç»™é€‰æ‹©å™¨åŠ æƒå€¼çš„è¯´æ³•ï¼Œå³ ID é€‰æ‹©å™¨æƒå€¼ä¸º 100ï¼Œç±»é€‰æ‹©å™¨æƒå€¼ä¸º 10ï¼Œæ ‡ç­¾é€‰æ‹©å™¨æƒå€¼ä¸º 1ï¼Œå½“ä¸€ä¸ªé€‰æ‹©å™¨ç”±å¤šä¸ª ID é€‰æ‹©å™¨ã€ç±»é€‰æ‹©å™¨æˆ–æ ‡ç­¾é€‰æ‹©å™¨ç»„æˆæ—¶ï¼Œåˆ™å°†æ‰€æœ‰æƒå€¼ç›¸åŠ ï¼Œç„¶åå†æ¯”è¾ƒæƒå€¼ã€‚è¿™ç§è¯´æ³•å…¶å®æ˜¯æœ‰é—®é¢˜çš„ã€‚æ¯”å¦‚ä¸€ä¸ªç”± 11 ä¸ªç±»é€‰æ‹©å™¨ç»„æˆçš„é€‰æ‹©å™¨å’Œä¸€ä¸ªç”± 1 ä¸ª ID é€‰æ‹©å™¨ç»„æˆçš„é€‰æ‹©å™¨æŒ‡å‘åŒä¸€ä¸ªæ ‡ç­¾ï¼ŒæŒ‰ç†è¯´ 110 &gt; 100ï¼Œåº”è¯¥åº”ç”¨å‰è€…çš„æ ·å¼ï¼Œç„¶è€Œäº‹å®æ˜¯åº”ç”¨åè€…çš„æ ·å¼ã€‚é”™è¯¯çš„åŸå› æ˜¯ï¼šæƒé‡çš„è¿›åˆ¶æ˜¯å¹¶ä¸æ˜¯åè¿›åˆ¶ï¼ŒCSS æƒé‡è¿›åˆ¶åœ¨ IE6 ä¸º 256ï¼Œåæ¥æ‰©å¤§åˆ°äº† 65536ï¼Œç°ä»£æµè§ˆå™¨åˆ™é‡‡ç”¨æ›´å¤§çš„æ•°é‡ã€‚ã€‚è¿˜æ˜¯æ‹¿åˆšåˆšçš„ä¾‹å­è¯´æ˜ã€‚11 ä¸ªç±»é€‰æ‹©å™¨ç»„æˆçš„é€‰æ‹©å™¨çš„æ€»æƒå€¼ä¸º 110ï¼Œä½†å› ä¸º 11 ä¸ªå‡ä¸ºç±»é€‰æ‹©å™¨ï¼Œæ‰€ä»¥å…¶å®æ€»æƒå€¼æœ€å¤šä¸èƒ½è¶…è¿‡ 100ï¼Œ ä½ å¯ä»¥ç†è§£ä¸º 99.99ï¼Œæ‰€ä»¥æœ€ç»ˆåº”ç”¨åè€…æ ·å¼ã€‚ å…¶ä»–å‚è€ƒ","categories":[{"name":"css","slug":"css","permalink":"https://hq229075284.github.io/blog/categories/css/"}],"tags":[{"name":"css","slug":"css","permalink":"https://hq229075284.github.io/blog/tags/css/"}]},{"title":"border-image-slice","slug":"border-image-slice","date":"2022-01-13T16:55:16.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2022/01/border-image-slice/","link":"","permalink":"https://hq229075284.github.io/blog/2022/01/border-image-slice/","excerpt":"","text":"border-image-sliceå°†å…ƒç´ åŒºåŸŸï¼ˆborder-boxï¼‰åˆ†å‰²æˆ9ä¸ªåŒºåŸŸï¼Œå…¶ä¸­8ä¸ªåŒºåŸŸåˆ†åˆ«å¯¹åº”æ„æˆborderçš„8ä¸ªåŒºåŸŸã€‚æ¯ä¸ªç”±borderr-image-sliceåˆ’åˆ†çš„åŒºåŸŸå†…çš„å›¾åƒå°†è¢«æ¸²æŸ“åˆ°å¯¹åº”çš„borderåŒºåŸŸä¸­ã€‚ å¦‚ä¸‹å›¾ï¼š å‡å¦‚border-image-sliceçš„å€¼ä¸º40 60ï¼Œè¡¨ç¤ºå‚ç›´è·ç¦»ä¸º40pxï¼Œæ°´å¹³è·ç¦»ä¸º60pxï¼ŒåŒºåŸŸ1çš„å¤§å°ä¸º60x40ï¼ˆé•¿*å®½ï¼‰ï¼Œå†…ä¸­æ¸²æŸ“å¯¹åº”åŒºåŸŸçš„å›¾åƒã€‚ å‡å¦‚borderçš„å€¼ä¸º20ï¼Œè¡¨ç¤ºborder-top-widthä¸º20pxï¼Œborder-left-widthä¸º20pxï¼ŒåŒºåŸŸ1çš„å¤§å°ä¸º20x20ï¼ˆé•¿*å®½ï¼‰ï¼Œå†…ä¸­æ¸²æŸ“çš„å›¾åƒä¸ºborder-image-sliceåˆ’åˆ†åŒºåŸŸä¸­çš„åŒºåŸŸ1å†…çš„å›¾åƒã€‚","categories":[{"name":"css","slug":"css","permalink":"https://hq229075284.github.io/blog/categories/css/"}],"tags":[{"name":"css","slug":"css","permalink":"https://hq229075284.github.io/blog/tags/css/"}]},{"title":"cssä¸»é¢˜åŒ–","slug":"cssä¸»é¢˜åŒ–","date":"2021-12-01T16:10:24.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2021/12/cssä¸»é¢˜åŒ–/","link":"","permalink":"https://hq229075284.github.io/blog/2021/12/css%E4%B8%BB%E9%A2%98%E5%8C%96/","excerpt":"cssä¸»é¢˜åŒ–ï¼ˆuse Lessï¼‰ ä½¿ç”¨css varï¼ˆå…¨å±€å˜é‡ï¼‰ 123456789101112131415161718// å½“ç»™å®šå€¼æœªå®šä¹‰æ—¶å°†ä¼šç”¨å¤‡ç”¨å€¼æ›¿æ¢@font-size:var(--theme-font-size,36px);:root&#123;&#125;/* https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_custom_properties#%E6%9C%89%E6%95%88%E6%80%A7%E5%92%8C%E5%80%BCè®¡ç®—æ—¶æœ‰æ•ˆæ€§1. æ£€æŸ¥å±æ€§ color æ˜¯å¦ä¸ºç»§æ‰¿å±æ€§ã€‚æ˜¯ï¼Œä½†æ˜¯ &lt;p&gt; æ²¡æœ‰ä»»ä½•çˆ¶å…ƒç´ å®šä¹‰äº† color å±æ€§ã€‚è½¬åˆ°ä¸‹ä¸€æ­¥ã€‚2. å°†è¯¥å€¼è®¾ç½®ä¸ºå®ƒçš„é»˜è®¤åˆå§‹å€¼ï¼Œæ¯”å¦‚ blackã€‚*/body&#123; font-size:20PX;&#125;#app&#123; font-size:@font-size !important;&#125; è„šæœ¬æ”¹å˜csså˜é‡çš„å€¼ 123function changeTheme(n)&#123; document.documentElement.style.setProperty('--theme-font-size',n+'px')&#125;","text":"cssä¸»é¢˜åŒ–ï¼ˆuse Lessï¼‰ ä½¿ç”¨css varï¼ˆå…¨å±€å˜é‡ï¼‰ 123456789101112131415161718// å½“ç»™å®šå€¼æœªå®šä¹‰æ—¶å°†ä¼šç”¨å¤‡ç”¨å€¼æ›¿æ¢@font-size:var(--theme-font-size,36px);:root&#123;&#125;/* https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_custom_properties#%E6%9C%89%E6%95%88%E6%80%A7%E5%92%8C%E5%80%BCè®¡ç®—æ—¶æœ‰æ•ˆæ€§1. æ£€æŸ¥å±æ€§ color æ˜¯å¦ä¸ºç»§æ‰¿å±æ€§ã€‚æ˜¯ï¼Œä½†æ˜¯ &lt;p&gt; æ²¡æœ‰ä»»ä½•çˆ¶å…ƒç´ å®šä¹‰äº† color å±æ€§ã€‚è½¬åˆ°ä¸‹ä¸€æ­¥ã€‚2. å°†è¯¥å€¼è®¾ç½®ä¸ºå®ƒçš„é»˜è®¤åˆå§‹å€¼ï¼Œæ¯”å¦‚ blackã€‚*/body&#123; font-size:20PX;&#125;#app&#123; font-size:@font-size !important;&#125; è„šæœ¬æ”¹å˜csså˜é‡çš„å€¼ 123function changeTheme(n)&#123; document.documentElement.style.setProperty('--theme-font-size',n+'px')&#125; å¤šå¥—æ ·å¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465// å…¬å…±éƒ¨åˆ†ï¼Œtheme.less// #region ä¸»é¢˜å˜é‡@themes: primary, dark, light;@colors: #00f, #000, #fff;@primary-color: #00f;@dark-color: #000;@light-color: #fff;// #endregion// åœ¨è°ƒç”¨è¯¥mixinçš„åœ°æ–¹ï¼Œå¾ªç¯æ¯ä¸ªä¸»é¢˜ï¼Œç”Ÿæˆæ¯ä¸ªä¸»é¢˜å¯¹åº”çš„æ ·å¼.createThemeStyle(@index) when (@index &lt;= length(@themes)) &#123; @theme: extract(@themes, @index); .themeStyle(@theme, @index); .createThemeStyle(@index+1);&#125;// å¼€å§‹åˆ›å»º.createThemeStyle(1);// åˆ›å»ºä¸»é¢˜ä¸‹çš„å˜é‡.createThemeVar(@theme) &#123; @_theme-color: \"@&#123;theme&#125;-color\"; @theme-color: @@_theme-color;&#125;// --------------------------// ä¸šåŠ¡éƒ¨åˆ†// å¼•å…¥ä¸»é¢˜å˜é‡@import \"theme.less\";// æ¨¡å¼åŒ¹é…ï¼Œç”Ÿæˆå¯¹åº”çš„ä¸»é¢˜æ ·å¼.style-mixin(primary,@index) &#123; &amp;.module1 &#123; background-color: extract(@colors, @index); &#125;&#125;.style-mixin(dark,@index) &#123; &amp;.module2 &#123; background-color: extract(@colors, @index); &#125;&#125;.style-mixin(light,@index) &#123; &amp;.module3 &#123; background-color: extract(@colors, @index); &#125;&#125;// å…¬å…±æ ·å¼.style-common() &#123; font-size: 16px;&#125;.themeStyle(@theme,@index) &#123; // æ­¤mixinåœ¨createThemeStyleä¸­ä¼šå¾ªç¯è°ƒç”¨ .@&#123;theme&#125; &#123; // æ³¨å…¥ä¸»é¢˜å˜é‡ .createThemeVar(@theme); // ä½¿ç”¨ä¸»é¢˜å˜é‡ color: @theme-color; // æ³¨å…¥å…¬å…±æ ·å¼ .style-common(); // è°ƒç”¨å¯¹åº”ä¸»é¢˜çš„æ ·å¼ç”Ÿæˆmixin .style-mixin(@theme, @index); &#125;&#125; ç²¾ç®€ç‰ˆ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970// -----------------------------// å…¬å…±éƒ¨åˆ†ï¼Œtheme.less// #region ä¸»é¢˜å˜é‡@themes: primary, dark, light;@colors: #00f, #000, #fff;@primary-color: #00f;@dark-color: #000;@light-color: #fff;// #endregion// åœ¨è°ƒç”¨è¯¥mixinçš„åœ°æ–¹ï¼Œå¾ªç¯æ¯ä¸ªä¸»é¢˜ï¼Œç”Ÿæˆæ¯ä¸ªä¸»é¢˜å¯¹åº”çš„æ ·å¼.createThemeStyle(@index) when (@index &lt;= length(@themes)) &#123; @theme: extract(@themes, @index); .themeStyle(); .createThemeStyle(@index+1);&#125;// å¼€å§‹åˆ›å»º.createThemeStyle(1);// åˆ›å»ºä¸»é¢˜ä¸‹çš„å˜é‡.createThemeVar() &#123; @_theme-color: \"@&#123;theme&#125;-color\"; @theme-color: @@_theme-color;&#125;// --------------------------// ä¸šåŠ¡éƒ¨åˆ†// æ³¨å…¥å…¬å…±æ ·å¼.common &#123; font-size: 16px;&#125;// å¼•å…¥ä¸»é¢˜å˜é‡@import \"./theme.less\";// æ¨¡å¼åŒ¹é…ï¼Œç”Ÿæˆå¯¹åº”çš„ä¸»é¢˜æ ·å¼.style-mixin(primary) &#123; &amp;.module1 &#123; font-size: 14px; background-color: @theme-color; &#125;&#125;.style-mixin(dark) &#123; &amp;.module2 &#123; font-size: 15px; background-color: extract(@colors, @index); &#125;&#125;.style-mixin(light) &#123; &amp;.module3 &#123; font-size: 16px; background-color: extract(@colors, @index); &#125;&#125;.themeStyle() &#123; // æ­¤mixinåœ¨createThemeStyleä¸­ä¼šå¾ªç¯è°ƒç”¨ .@&#123;theme&#125; &#123; // æ³¨å…¥ä¸»é¢˜å˜é‡ .createThemeVar(); // ä½¿ç”¨ä¸»é¢˜å˜é‡ color: @theme-color; // è°ƒç”¨å¯¹åº”ä¸»é¢˜çš„æ ·å¼ç”Ÿæˆmixin .style-mixin(@theme); &#125;&#125;","categories":[],"tags":[]},{"title":"glob_match","slug":"glob-match","date":"2021-05-13T12:50:08.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2021/05/glob-match/","link":"","permalink":"https://hq229075284.github.io/blog/2021/05/glob-match/","excerpt":"","text":"glob matchæ€»ç»“ï¼ˆbashä¸‹ï¼‰ *åŒ¹é…ä»»æ„æ•°é‡çš„é/å­—ç¬¦ ? ä»…åŒ¹é…ä¸€ä¸ªé/å­—ç¬¦ **åŒ¹é…ä»»æ„æ•°é‡çš„é/å­—ç¬¦ï¼Œè€Œä¸”å½“å®ƒç‹¬ç«‹æ„æˆåŒ¹é…æ¨¡å¼ä¸­çš„ä¸€æ®µæ—¶ï¼Œä¹Ÿå¯ä»¥åŒ¹é…/ï¼Œåœ¨bashä¸‹è¦å¼€å¯globstar,shopt -s globstar [...]åŒ¹é…[]ä¹‹é—´çš„å­—ç¬¦ï¼Œå­˜åœ¨èŒƒå›´åŒ¹é…æ—¶ï¼Œéœ€è¦åœ¨bashä¸‹éœ€å¼€å¯globasciirangesï¼Œä¿è¯å¤§å°å†™åŒ¹é…çš„æ­£å¸¸ï¼›[^â€¦] æˆ– [!â€¦]åŒ¹é…ä¸åŒ…æ‹¬åœ¨[]å†…çš„å­—ç¬¦ï¼›å¯ä»¥é€šè¿‡[:class:]ä½¿ç”¨POSIXæ ‡å‡†çš„åŒ¹é…å…³é”®è¯ï¼šalnum ã€alphaã€ascii ã€blankã€cntrlã€digitã€graphã€lowerã€printã€punctã€spaceã€upperã€wordã€xdigitï¼Œword åŒ¹é…å­—ç¬¦ã€æ•°å­—å’Œ_ å¤šæ¨¡å¼åŒ¹é…åŠåé€‰ ?(pattern|pattern|â€¦)ï¼šåŒ¹é…0ä¸ªæˆ–1ä¸ªpattern *(pattern|pattern|â€¦)ï¼šåŒ¹é…0ä¸ªæˆ–ä»¥ä¸Šçš„pattern +(pattern|pattern|â€¦)ï¼šåŒ¹é…1ä¸ªæˆ–ä»¥ä¸Špattern @(pattern|pattern|â€¦)ï¼šåŒ¹é…å…¶ä¸­1ä¸ªpatternï¼Œæµ‹è¯•æ•ˆæœå’Œ+(pattern|pattern|...)ç›¸ä¼¼ï¼ˆéœ€è¿›ä¸€æ­¥ç ”ç©¶åŒºåˆ«ï¼‰ !(pattern|pattern|â€¦)ï¼šä¸åŒ¹é…ä»»ä¸€pattern å‚è€ƒï¼šman bashä¸‹çš„Pattern Matchingéƒ¨åˆ†","categories":[{"name":"shell","slug":"shell","permalink":"https://hq229075284.github.io/blog/categories/shell/"}],"tags":[{"name":"glob","slug":"glob","permalink":"https://hq229075284.github.io/blog/tags/glob/"}]},{"title":"åŸç ã€åç ã€è¡¥ç ","slug":"åŸç ã€åç ã€è¡¥ç ","date":"2021-04-23T17:35:26.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2021/04/åŸç ã€åç ã€è¡¥ç /","link":"","permalink":"https://hq229075284.github.io/blog/2021/04/%E5%8E%9F%E7%A0%81%E3%80%81%E5%8F%8D%E7%A0%81%E3%80%81%E8%A1%A5%E7%A0%81/","excerpt":"åŸç ã€åç ã€è¡¥ç åŸç 1231 &#x3D;&gt; 000000011 &#x3D;&gt; 00000010-1 &#x3D;&gt; 10000001 å½“ä¸€ä¸ªæ­£æ•°ä¸ä¸€ä¸ªè´Ÿæ•°çš„åŸç åšåŠ æ³•æ—¶ï¼š 1234567891011121314151 + (-1) 00000001+ 10000001----------- 10000010 10000010 &#x3D;&gt; -2 &#x2F;&#x2F; æŒ‰åŸç çš„æ–¹å¼è½¬åŒ–ä¸ºåè¿›åˆ¶2 + (-1) 00000010+ 10000001----------- 10000011 10000011 &#x3D;&gt; -3 &#x2F;&#x2F; æŒ‰åŸç çš„æ–¹å¼è½¬åŒ–ä¸ºåè¿›åˆ¶ å¼‚å·æ•°å­—çš„åŸç ç›¸åŠ ï¼ŒåŸç çš„ç¬¦å·ä½ä¸€å®šä¸º1ï¼Œå’Œå®é™…æƒ…å†µä¸æœï¼Œæ¯”å¦‚ï¼š 2 + -1ã€‚","text":"åŸç ã€åç ã€è¡¥ç åŸç 1231 &#x3D;&gt; 000000011 &#x3D;&gt; 00000010-1 &#x3D;&gt; 10000001 å½“ä¸€ä¸ªæ­£æ•°ä¸ä¸€ä¸ªè´Ÿæ•°çš„åŸç åšåŠ æ³•æ—¶ï¼š 1234567891011121314151 + (-1) 00000001+ 10000001----------- 10000010 10000010 &#x3D;&gt; -2 &#x2F;&#x2F; æŒ‰åŸç çš„æ–¹å¼è½¬åŒ–ä¸ºåè¿›åˆ¶2 + (-1) 00000010+ 10000001----------- 10000011 10000011 &#x3D;&gt; -3 &#x2F;&#x2F; æŒ‰åŸç çš„æ–¹å¼è½¬åŒ–ä¸ºåè¿›åˆ¶ å¼‚å·æ•°å­—çš„åŸç ç›¸åŠ ï¼ŒåŸç çš„ç¬¦å·ä½ä¸€å®šä¸º1ï¼Œå’Œå®é™…æƒ…å†µä¸æœï¼Œæ¯”å¦‚ï¼š 2 + -1ã€‚ åç 123456&#x2F;&#x2F; æ­£æ•° 100000001 &#x2F;&#x2F;åŸç 00000001 &#x2F;&#x2F;åç &#x2F;&#x2F; è´Ÿæ•° -110000001 &#x2F;&#x2F;åŸç 11111110 &#x2F;&#x2F;åç  æ­£æ•°çš„åç å°±æ˜¯åŸç æœ¬èº«ï¼Œè´Ÿæ•°çš„åç å°±æ˜¯åŸç é™¤ç¬¦å·ä½å¤–ï¼ŒæŒ‰ä½å–åã€‚ 12345671 + (-1) 00000001 &#x2F;&#x2F; 1çš„åç + 11111110 &#x2F;&#x2F; -1çš„åç ----------- 11111111 11111111 &#x3D;åç è½¬åŸç &#x3D;&gt; 10000000 &#x3D;è½¬åè¿›åˆ¶&#x3D;&gt; -0 &#x2F;&#x2F; æŒ‰åŸç çš„æ–¹å¼è½¬åŒ–ä¸ºåè¿›åˆ¶ åç ç›¸åŠ ï¼Œè§£å†³äº†ç›¸åæ•°ä¹‹é—´ç›¸åŠ çš„é—®é¢˜ï¼Œä½† 12345672 + (-1) 00000010 &#x2F;&#x2F; 2çš„åç + 11111110 &#x2F;&#x2F; -1çš„åç ----------- 00000000 00000000 &#x3D;åç è½¬åŸç &#x3D;&gt; 00000000 &#x3D;è½¬åè¿›åˆ¶&#x3D;&gt; +0 &#x2F;&#x2F; æŒ‰åŸç çš„æ–¹å¼è½¬åŒ–ä¸ºåè¿›åˆ¶ è®¡ç®—ç»“æœä»æœ‰é—®é¢˜ è¡¥ç ï¼ˆä»éœ€å®Œå–„ï¼‰æ­£æ•°çš„è¡¥ç ç­‰äºåŸç ï¼Œè´Ÿæ•°çš„è¡¥ç ç­‰äºåŸç è‡ªä½ä½å‘é«˜ä½ï¼Œç¬¬ä¸€ä¸ªå‡ºç°çš„â€˜1â€™åŠå…¶å³è¾¹çš„â€˜0â€™ä¿æŒä¸å˜ï¼Œå·¦è¾¹çš„å„ä½æŒ‰ä½å–åï¼Œç¬¦å·ä½ä¸å˜ã€‚ æ¯”å¦‚åœ¨4ä½ç³»ç»Ÿä¸‹ï¼š 12342 + (-1) 0010+ 1001 å°†åŸç è®¡ç®—è½¬æ¢ä¸ºè¡¥ç è®¡ç®—ï¼š 2 + (-1)=2 + (2^4-1) äºŒè¿›åˆ¶ç¼–ç  åè¿›åˆ¶ æè¿° 0000 0 0001 1 &lt;&lt; ç»“æœä½ç½® 0010 2 &lt;&lt; è¢«å‡æ•°ä½ç½® 0011 3 0100 4 0101 5 0110 6 0111 7 1000 -8 1001 -1 1010 -2 1011 -3 1100 -4 1101 -5 1110 -6 1111 -7 ä»ä¸Šé¢çš„è¡¨æ ¼å¯ä»¥çœ‹å‡ºï¼Œè¢«å‡æ•°-å‡æ•°å¯ä»¥çœ‹æˆè¢«å‡æ•°+å‡æ•°çš„åŒä½™æ•°ï¼Œå› ä¸ºåœ¨è®¡ç®—æœºä¸­ï¼Œæœ€å¤§å€¼æº¢å‡ºåä¼šä»0å¼€å§‹é‡æ–°è®¡æ•°ï¼Œæ‰€ä»¥åšå‡æ³•æ—¶ï¼Œå¯ä»¥çœ‹æˆä»è¢«å‡æ•°ä¸€ç›´åŠ ï¼ŒåŠ åˆ°æº¢å‡ºåï¼Œä»0å¼€å§‹å†åŠ ï¼Œç›´åˆ°åŠ åˆ°ç»“æœå€¼ä½ç½®ã€‚ç´¯åŠ çš„æ€»å€¼å°±æ˜¯è¡¥ç çš„ç¼–ç ï¼ˆå¯ä»¥ç†è§£ä¸ºè¡¥ç æ²¡æœ‰ç¬¦åˆä½ï¼Œåªæ˜¯ä¸ªåç§»é‡ï¼‰ï¼Œå³é€šè¿‡è¡¥ç =2^n-å‡æ•°ç®—å‡ºè¡¥ç åœ¨åè¿›åˆ¶çš„æ•°å€¼ï¼Œå†å°†è¡¥ç è½¬æˆå¯¹åº”çš„äºŒè¿›åˆ¶ç¼–ç ã€‚ å½“è¢«å‡æ•°+è¡¥ç çš„å€¼ä¸ºæ­£æ•°æ—¶ï¼Œå› ä¸ºéƒ½æ˜¯ä»0ç´¯åŠ ï¼Œæ‰€ä»¥è®¡ç®—çš„ç»“æœå’Œé¢„æœŸç»“æœå€¼ä¸€è‡´ï¼Œä¸éœ€è¦è½¬æ¢ã€‚ è€Œå½“è¢«å‡æ•°+è¡¥ç çš„å€¼ä¸ºè´Ÿæ•°æ—¶ï¼Œæ¯”å¦‚ï¼š2 - 4 = -2 =&gt; 2 + (16 - 4) = -2=&gt; 2 + 12 = -2 äºŒè¿›åˆ¶ç¼–ç  åè¿›åˆ¶ æè¿° 0000 0 0001 1 0010 2 &lt;&lt; è¢«å‡æ•°ä½ç½® 0011 3 0100 4 0101 5 0110 6 0111 7 1000 -8 1001 -1 1010 -2 &lt;&lt; ç»“æœä½ç½®ï¼Œè®°ä½œR2 1011 -3 1100 -4 1101 -5 &lt;&lt; R2çš„åç ï¼Œè®°ä½œR3 1110 -6 &lt;&lt; è¢«å‡æ•°+è¡¥ç  ä½ç½®ï¼Œè®°ä½œR1 1111 -7 10000ï¼ˆä»…ç”¨ä½œå‚è€ƒï¼Œæ— ç¬¦å·ä½ï¼Œæ— ä½æ•°é™åˆ¶ï¼‰ 2^4 æ¨¡ 2-3=-1 ä½†å®é™…è®¡ç®—å‡ºæ¥çš„ç¼–ç è½¬åŒ–ä¸ºåè¿›åˆ¶ä¸º-7 2-4=-2 ä½†å®é™…è®¡ç®—å‡ºæ¥çš„ç¼–ç è½¬åŒ–ä¸ºåè¿›åˆ¶ä¸º-6 å¯ä»¥çœ‹å‡ºï¼Œå°†é¢„æœŸå€¼çš„ç»å¯¹å€¼ä½œä¸ºåç§»é‡ï¼Œå®é™…è®¡ç®—å‡ºçš„äºŒè¿›åˆ¶å€¼ï¼ˆ1110ï¼‰åŠ ä¸Šåç§»é‡ï¼ˆ0010ï¼‰ï¼Œåˆšå¥½ç­‰äºæ¨¡ï¼ˆ10000ï¼‰ å› ä¸ºè¡¥ç +è´Ÿæ•°çš„ç»å¯¹å€¼ç­‰äºæ¨¡ï¼Œä¸”R1+|R2|=æ¨¡,æ‰€ä»¥R1æ˜¯R2çš„è¡¥ç ï¼Œæ‰€ä»¥ä¸¤æ•°ç›¸å‡ä¸ºè´Ÿæ•°æ—¶å®é™…è®¡ç®—å‡ºæ¥çš„æ˜¯ç»“æœçš„è¡¥ç ï¼Œè¦å¾—åˆ°åŸç ï¼Œéœ€è¦å°†è¡¥ç è½¬æ¢ä¸ºåŸç ï¼Œä½†1000(è¡¥)æ²¡æœ‰åŸç ï¼Œç›´æ¥å°±è¡¨ç¤ºåŸå€¼-2^nã€‚ -2å¯ä»¥çœ‹æˆ1010=1000+0010ï¼ˆæ­£å‘åç§»ï¼‰,-2çš„åç å¯ä»¥çœ‹æˆ1101=1111-0010ï¼ˆåå‘åç§»ï¼‰ è¡¥ç ç­‰äºåç +1ï¼šR3+|R2|+1=æ¨¡=R1+|R2| =&gt; R3+1=R1 ç±»ä¼¼-2-4è¿™ç±»çš„ï¼Œå¯ä»¥çœ‹ä½œæ˜¯(0-2)-4ï¼Œå…ˆç®—å‡º-2ä½ç½®çš„å€¼ï¼Œå†ç®—å‡º-2-4ä½ç½®çš„å€¼ã€‚ 1234567891011122 + (2^4-1) &#x2F;&#x2F; åœ¨8ä½ç³»ç»Ÿä¸‹ï¼Œ2^4-1 å°±æ˜¯ -1 çš„è¡¥ç ï¼Œè´Ÿæ•°çš„ç»å¯¹å€¼+è¡¥ç &#x3D;2^n(nä¸ºä½æ•°) 0010+ 1111 ---------- 00012^4-11111 &#x2F;&#x2F; -1çš„è¡¥ç -11001 &#x2F;&#x2F; -1çš„åŸç 1110 &#x2F;&#x2F; -1çš„åç ","categories":[],"tags":[{"name":"è®¡ç®—å™¨åŸç†","slug":"è®¡ç®—å™¨åŸç†","permalink":"https://hq229075284.github.io/blog/tags/%E8%AE%A1%E7%AE%97%E5%99%A8%E5%8E%9F%E7%90%86/"}]},{"title":"es6-es11","slug":"es6-es11","date":"2020-11-11T13:28:10.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2020/11/es6-es11/","link":"","permalink":"https://hq229075284.github.io/blog/2020/11/es6-es11/","excerpt":"","text":"ECMAScriptç‰ˆæœ¬ ç¼–å¹´ç‰ˆ ç®€ç‰ˆ æè¿° ECMAScript2015 ECMAScript6 - ECMAScript2016 ECMAScript7 - ECMAScript2017 ECMAScript8 - ECMAScript2018 ECMAScript9 - ECMAScript2019 ECMAScript10 - ECMAScript2020 ECMAScript11 - ECMAScript2021 ECMAScript12 - ECMAScript2016 Array.prototype.includes **æ›¿ä»£Math.powå®ç°æŒ‡æ•°çš„è®¡ç®— ECMAScript2017 Object.values() Object.entries() String.prototype.padStart String.prototype.padEnd(âš ï¸ padStart and padEnd on Emojis and other double-byte chars) Object.getOwnPropertyDescriptors(å‚è€ƒ) å…è®¸åœ¨å‡½æ•°å…¥å‚çš„æœ«å°¾æ·»åŠ ,,æ¯”å¦‚function a(a1,a2,){...} Async/Await ECMAScript2018 jså¼•æ“ä¸»è¿›ç¨‹å’Œworkerè¿›ç¨‹é—´å¯ä½¿ç”¨SharedArrayBufferè¿›è¡Œæ•°æ®å…±äº«ï¼Œå¹¶é€šè¿‡Atomicsæ¥ç®¡ç†å…±äº«å†…å®¹æ•°æ® å…è®¸æ¨¡æ¿å­—ç¬¦ä¸²å’Œå‡½æ•°ç»„åˆä½¿ç”¨ 12345function fn(staticStr,...dynamicParams)&#123; console.log(staticStr)// ['static1 ',' static2 ',''] console.log(dynamicParams)// [1,2]&#125;fn`static1 $&#123;1&#125; static2 $&#123;2&#125;` æ­£åˆ™è¡¨è¾¾å¼ä¸­.å¯ä»¥åœ¨sæ¨¡å¼ä¸‹åŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼ˆåŒ…æ‹¬\\nã€\\rã€\\fç­‰ï¼‰ 123456//Before/first.second/.test('first\\nsecond'); //false//ECMAScript 2018/first.second/s.test('first\\nsecond'); //true// Notice: /s æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥å¯¹åŒ¹é…ç»„åˆè¿›è¡Œå‘½åï¼Œæ ¼å¼ä¸ºï¼š(?&lt;name&gt;...) 1234567891011121314151617181920(/(?&lt;cname&gt;abc)/.exec('testabc'))/* è¾“å‡º: [ 'abc', 'abc', groups:&#123; cname: 'abc' &#125;, index: 4, input: 'testabc' ]*/// \\kä½¿ç”¨ä¹‹å‰ç»„åˆåç§°åŒ¹é…åˆ°çš„å†…å®¹let sameWords=/(?&lt;fruit&gt;apple|orange)===\\k&lt;fruit&gt;/sameWords.test('apple===apple') // truesameWords.test('apple===orange') // false// åœ¨replaceå‡½æ•°ä¸­ä½¿ç”¨ç»„åˆå‘½ålet replaceReg=/(?&lt;firstName&gt;[a-zA-z]+) (?&lt;secondName&gt;[a-zA-z]+)/'abc def'.replace(replaceReg,'$&lt;secondName&gt; $&lt;firstName&gt;') // 'def abc' åœ¨è§£æ„ä¸­ç”¨...varNameçš„æ–¹å¼æå–å¯¹è±¡ä¸­æœªè¢«æŒ‡å®šçš„å±æ€§ï¼Œé‡ç»„ä¸ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè®°ä¸ºvarName å¯¹è±¡å¯ä½¿ç”¨...è¿›è¡Œæ‰©å±• æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨å‘å‰æŸ¥æ‰¾,æŸ¥æ‰¾æ—¶æ¶ˆè€—æŸ¥è¯¢å­—ç¬¦ 1234567891011// ['winning',groups:undefined,index:1,input:'#winning'](/(?&lt;=#).*/.exec('#winning'))// åå‘// ['inning',groups:undefined,index:2,input:'#winning'](/(?&lt;!#)[a-z]+/.exec('#winning'))// ['',groups:undefined,index:0,input:'#winning'](/(?&lt;!#)[a-z]*/.exec('#winning'))// PS: (?&lt;!...)ä¼šå»åŒ¹é…è¡Œé¦–ç©ºå­—ç¬¦ï¼Œå½“åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆåŒ¹é…è§„åˆ™çš„ï¼Œå°±ç›´æ¥è¾“å‡º// æ¯”å¦‚ï¼š`/(?&lt;!#)[a-z]*/.exec('#winning')`ä¸­ï¼Œ(?&lt;!#)åŒ¹é…çš„æ˜¯è¡Œé¦–ç©ºå­—ç¬¦ï¼Œ[a-z]*åŒ¹é…çš„æ˜¯ç©ºå­—ç¬¦ï¼Œå› ä¸ºè§„åˆ™æ— æ³•åŒ¹é…é¦–å­—ç¬¦`#` åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ·»åŠ Scriptæˆ–Script_Extensionsæ¥æ‰©å±•Unicodeçš„åŒ¹é…èŒƒå›´ 1234567//The following matches a single Greek character/\\p&#123;Script_Extensions=Greek&#125;/u.test('Ï€'); // true// ç­‰ä»·äº/\\p&#123;Script=Greek&#125;/u.test('Ï€'); // true// åå‘/\\P&#123;Script=Greek&#125;/u.test('Ï€'); // false Promise.prototype.finally() for-ofä¸­ä½¿ç”¨awaitï¼Œåœ¨forå¾ªç¯ä¸­ï¼Œä¸Šä¸€ä¸ªpromise resolveåï¼Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªpromise 1234567const promises=[...] // Promiseæ•°ç»„async function a()&#123; for await (const p of promises)&#123; console.log(p) &#125;&#125;a() ECMAScript2019 String.prototype.trimStart() String.prototype.trimEnd() Object.fromEntries() Array.prototype.flat() Array.prototype.flatMap() try-catchä¸­catchçš„å‚æ•°æ”¹ä¸ºå¯é€‰ Symbol.prototype.descriptionè¾“å‡ºSymbolç±»å‹å˜é‡çš„æè¿° Array.prototype.sort()ï¼Œåœ¨åŸæ¥çš„åŸºç¡€ä¸Šä½¿ç”¨ç¨³å®šçš„æ’åºç®—æ³•ï¼Œå°¤å…¶åœ¨å¯¹è±¡æ•°ç»„ä¸­ï¼Œä¼šæ ¹æ®ç»™å®šçš„é”®ä¹‹é—´æ¯”è¾ƒè¿›è¡Œæ’åºï¼ŒåŒé”®å€¼çš„å¤šä¸ªå¯¹è±¡çš„é¡ºåºä¸è¿™äº›å¯¹è±¡åœ¨åŸæ•°ç»„ä¸­çš„é¡ºåºä¸€è‡´ Function.prototype.toString(),å°†è¿”å›å‡½æ•°çš„æ³¨é‡Šã€ç©ºæ ¼å’Œè¯­æ³•è¯¦ç»†ä¿¡æ¯ JSONæˆä¸ºECMAScriptçš„å®Œå…¨å­é›†ï¼Œå¯è§£æä¹‹å‰è§£æä¸äº†çš„JSONå­—ç¬¦ä¸²ï¼šè¡Œåˆ†éš”ç¬¦ï¼ˆ\\u2028ï¼‰å’Œæ®µåˆ†éš”ç¬¦ï¼ˆ\\u2029ï¼‰ JSON.stringify()è¾“å‡ºè¿›è¡Œäº†ä¼˜åŒ–ï¼ŒåŸæ¥æ˜¾ç¤ºæœªçŸ¥çš„å­—ç¬¦ï¼Œç°åœ¨åœ¨å­—ç¬¦ä»£ç ä¹‹å‰æ’å…¥\\å­—ç¬¦åä»èƒ½ä¿æŒå¯è¯»æ€§ 12345// beforeJSON.stringify('\\uD83D');// '\"ï¿½\"'// afterJSON.stringify('\\uD83D');// '\"\\\\ud83d\"' ECMAScript2020 åœ¨å˜é‡åå‰åŠ #ï¼Œæ¥å®šä¹‰ç±»ç§æœ‰å˜é‡ 123456789101112131415class a&#123; #p='private' print()&#123; console.log(this.#p) &#125;&#125;var aa=new a// æ­£å¸¸aa.print() // 'private// å¼‚å¸¸// Uncaught SyntaxError: Private field '#p' must be declared in an enclosing classconsole.log(aa.#p) ?.å¯é€‰é“¾è¿ç®—ç¬¦,ç¬¦å·å·¦ä¾§çš„å€¼ä¸ºundefinedæˆ–nullæ—¶ï¼Œè¿ç®—è¡¨è¾¾å¼è¿”å›undefined,å¦åˆ™ç»§ç»­æ‰§è¡Œåç»­çš„æ“ä½œ 12345// å½¢å¼ï¼šobj?.propobj?.[expr]arr?.[index]func?.(args) ??ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦,è¿ç®—ç¬¦å·¦ä¾§ä¸ºundefinedæˆ–nullæ—¶ï¼Œå–ç¬¦å·å³ä¾§çš„å€¼ï¼Œå¦åˆ™å–å·¦ä¾§çš„å€¼ åŠ¨æ€å¼•å…¥ï¼Œimport(&#39;some.js&#39;).then(...) Promise.allSettledï¼Œå¤„ç†å¤šä¸ªPromiseå¯¹è±¡çš„é›†åˆï¼Œæ— è®ºè¿™äº›Promiseå¯¹è±¡çš„çŠ¶æ€æ€ä¹ˆå˜åŒ–ï¼Œéƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œå¹¶åœ¨æ‰€æœ‰PromiseçŠ¶æ€å‘ç”Ÿå˜åŒ–åï¼Œæ‰§è¡Œthenå›è°ƒï¼Œå…¥å‚ä¸ºæ¯ä¸ªPromiseçŠ¶æ€çš„é›†åˆ globalThis BigIntï¼Œé€šè¿‡åœ¨æ•°å­—åé¢æ·»åŠ næ¥æŒ‡å®šæ•°çš„ç±»å‹ä¸ºBigInt,æ­¤ç±»å‹ç”¨äºå¤„ç†å¤§äº(2^53 - 1)çš„æ•´æ•°ï¼Œä¸å¯ä¸æ™®é€šnumberç±»å‹çš„æ•°æ®è¿›è¡Œæ“ä½œï¼Œä½†å¯æ¯”è¾ƒå¤§å° 111n+11 // Uncaught TypeError: Cannot mix BigInt and other types, use explicit conversions String.prototype.matchAllï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡for-ofè®¿é—®æ¯ä¸€ä¸ªåŒ¹é…ç»„çš„ç»“æœï¼ˆåŒ…å«ä½¿ç”¨æ‹¬å·å®šä¹‰çš„æ•è·ç»„ä¿¡æ¯ï¼‰ ECMAScript2021 String.prototype.replaceAll Promise.any 12345678Promise.any(promises).then( (first) =&gt; &#123; // ä»»ä½•ä¸€ä¸ª Promise å®Œæˆäº† &#125;, (error) =&gt; &#123; // æ‰€æœ‰çš„ Promise éƒ½æ‹’ç»äº† &#125;) æ•°å­—åˆ†éš”ç¬¦_,let x=2_3333ç­‰ä»·äºlet x=23333 Intl.ListFormatï¼Œå›½é™…åŒ–æ ¼å¼åŒ–","categories":[],"tags":[{"name":"es","slug":"es","permalink":"https://hq229075284.github.io/blog/tags/es/"}]},{"title":"es6ç›¸å…³","slug":"es6ç›¸å…³","date":"2020-11-10T10:14:44.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2020/11/es6ç›¸å…³/","link":"","permalink":"https://hq229075284.github.io/blog/2020/11/es6%E7%9B%B8%E5%85%B3/","excerpt":"","text":"superåœ¨babelä¸­çš„å®ç° è¿­ä»£å™¨è§„èŒƒ å¯è¿­ä»£åè®® å¯è¿­ä»£å¯¹è±¡ç‰¹å¾ è¿­ä»£å™¨åè®® è¿­ä»£å™¨å¯¹è±¡ç‰¹å¾ superåœ¨babelä¸­çš„å®ç°1234567891011class a &#123; constructor()&#123; this.a=1 &#125;&#125;class b extends a &#123; constructor()&#123; super() &#125;&#125; ç¼–è¯‘å 1234567891011121314151617181920212223242526272829303132333435363738// ...some helper functionfunction _createSuper(Derived) &#123; var hasNativeReflectConstruct = _isNativeReflectConstruct() return function _createSuperInternal() &#123; // åœ¨è°ƒç”¨å‰ï¼Œ_inheritså‡½æ•°ä¸­å·²å°†çˆ¶ç±»å‡½æ•°æŒ‚åˆ°å­ç±»å‡½æ•°çš„åŸå‹é“¾ä¸Šï¼Œå³b.__proto__===a // æ‰€ä»¥è¿™ä¸ªçš„Superå°±æ˜¯b.__proto__ï¼Œå³çˆ¶ç±»a var Super = _getPrototypeOf(Derived), result if (hasNativeReflectConstruct) &#123; var NewTarget = _getPrototypeOf(this).constructor result = Reflect.construct(Super, arguments, NewTarget) &#125; else &#123; result = Super.apply(this, arguments) &#125; return _possibleConstructorReturn(this, result) &#125;&#125;var a = function a() &#123; _classCallCheck(this, a); this.a = 1;&#125;;var b = /*#__PURE__*/function (_a) &#123; // bçš„prototypeçš„__proto__æŒ‡å‘açš„prototypeï¼Œå±æ€§è°ƒç”¨æ—¶ï¼šæ£€æŸ¥bå®ä¾‹çš„å±æ€§=&gt;æ£€æŸ¥bçš„prototypeçš„å±æ€§=&gt;æ£€æŸ¥açš„prototypeçš„å±æ€§ // å…¶ä¸­ä¼šè°ƒç”¨_setPrototypeOfå‡½æ•°,å°†aæŒ‚åˆ°bçš„åŸå‹é“¾ä¸Šï¼Œb.__proto__===a _inherits(b, _a); // åˆ›å»ºsuperå‡½æ•°ï¼Œå†…éƒ¨å­˜å‚¨bä¸ºDerivedå‚æ•° var _super = _createSuper(b); function b() &#123; _classCallCheck(this, b); return _super.call(this); &#125; return b;&#125;(a); è¿­ä»£å™¨è§„èŒƒ å‚è€ƒhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols å¯è¿­ä»£åè®®è¦æˆä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–åŸå‹é“¾ä¸Šï¼‰å¿…é¡»å®ç°@@iteratoræ–¹æ³•ï¼Œå½“ä¸€ä¸ªå¯¹è±¡éœ€è¦è¢«è¿­ä»£çš„æ—¶å€™ï¼ˆæ¯”å¦‚è¢«ç½®å…¥ä¸€ä¸ª forâ€¦of å¾ªç¯æ—¶ï¼‰ï¼Œé¦–å…ˆï¼Œä¼šä¸å¸¦å‚æ•°è°ƒç”¨å®ƒçš„@@iteratoræ–¹æ³•ï¼Œç„¶åä½¿ç”¨æ­¤æ–¹æ³•è¿”å›çš„è¿­ä»£å™¨è·å¾—è¦è¿­ä»£çš„å€¼ã€‚ å†…ç½®ç±»å‹æ‹¥æœ‰é»˜è®¤çš„è¿­ä»£å™¨è¡Œä¸º: Array.prototype[@@iterator]() TypedArray.prototype[@@iterator]() String.prototype[@@iterator]() Map.prototype[@@iterator]() Set.prototype[@@iterator]() å¯è¿­ä»£å¯¹è±¡ç‰¹å¾ æ­¤å¯¹è±¡å®ç°äº†å¯è¿­ä»£åè®®â€”â€”æ‹¥æœ‰@@iteratorå‡½æ•°ï¼ˆå³typeof fn[Symbol.iterator]===&#39;function&#39;ï¼‰ï¼Œä¸”@@iteratorå‡½æ•°æ‰§è¡Œåè¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ã€‚ @@iteratorå‡½æ•°çš„thisé»˜è®¤æŒ‡å‘è¯¥å¯è¿­ä»£å¯¹è±¡ è¿­ä»£å™¨åè®®è¿­ä»£å™¨å¯¹è±¡ç‰¹å¾ æ­¤å¯¹è±¡å®ç°äº†è¿­ä»£å™¨åè®®â€”â€”æ‹¥æœ‰nextå‡½æ•°ï¼Œä¸”æ‰§è¡Œnextå‡½æ•°åè¿”å›{done:Boolean,value:any}è¿™æ ·çš„å¯¹è±¡ï¼ˆå¯åœ¨å…¶ä¸ŠåŠ å¦å¤–çš„å¯¹è±¡å±æ€§ï¼‰ for-ofä¸­doneä¸ºtrueæ—¶ï¼Œvalueå±æ€§çš„å€¼ä¼šè¢«å¿½ç•¥ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950const obj2=&#123; [Symbol.iterator]()&#123; let i=-1 const txt=[ 'this will output in both case', 'just output in call `next` by hand' ] return &#123; next()&#123; i++ return &#123;done:i===txt.length-1,value:txt[&#125; &#125; &#125; &#125;&#125;const obj1=&#123; [Symbol.iterator]:function* ()&#123; yield 'this will output in both case' return 'just output in call `next` by hand' &#125;&#125;console.log('obj1 output')var g=obj1[Symbol.iterator]()console.log(g.next().value)console.log(g.next().value)console.log('----')for(let i of obj1)&#123; console.log(i)&#125;console.log('obj2 output')var g=obj2[Symbol.iterator]()console.log(g.next().value)console.log(g.next().value)console.log('----')for(let i of obj2)&#123; console.log(i)&#125;// =&gt; è¾“å‡ºç»“æœï¼š// obj1 output// this will output in both case// just output in call `next` by hand// ----// this will output in both case// obj2 output// this will output in both case// just output in call `next` by hand// ----// this will output in both case","categories":[],"tags":[{"name":"es6","slug":"es6","permalink":"https://hq229075284.github.io/blog/tags/es6/"}]},{"title":"å…ƒç´ resize","slug":"å…ƒç´ resize","date":"2020-06-27T23:38:44.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2020/06/å…ƒç´ resize/","link":"","permalink":"https://hq229075284.github.io/blog/2020/06/%E5%85%83%E7%B4%A0resize/","excerpt":"ç›‘å¬å…ƒç´ å°ºå¯¸çš„å˜åŒ–ä¼ ç»Ÿçš„ï¼Œé€šè¿‡resizeæ¥ç›‘å¬å°ºå¯¸å¤§çš„å˜åŒ–ï¼ˆä»¥é«˜åº¦å˜åŒ–ä¸ºä¾‹ï¼‰ç”±äºresizeäº‹ä»¶ä»…åœ¨æŸäº›å…ƒç´ å’Œwindowä¸Šè§¦å‘ï¼Œå¯¹äºå…¶ä»–å…ƒç´ éœ€è¦å€ŸåŠ©è¿™äº›å…ƒç´ æ¥ç›‘å¬å°ºå¯¸çš„å˜åŒ–ã€‚ é¦–å…ˆä¿æŒiframeçš„é«˜åº¦ä¸å˜åŒ–å…ƒç´ çš„é«˜åº¦ä¸€è‡´ï¼Œå½“å…ƒç´ çš„é«˜åº¦å˜åŒ–æ—¶ï¼Œiframeå†…çš„çª—å£å¤§å°ä¹Ÿå˜åŒ–ï¼Œä¼šè§¦å‘iframeå†…windowçš„resizeäº‹ä»¶ï¼Œä»¥æ­¤æ¥ç›‘å¬å…ƒç´ å°ºå¯¸çš„å˜åŒ–ã€‚ 123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;button&gt;change div's height&lt;/button&gt; &lt;div class=\"size-div\" style=\"height:100px;\"&gt; &lt;iframe&gt;&lt;/iframe&gt; the div can change size &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 12345678910document.querySelector(\"button\").addEventListener(\"click\", function () &#123; var target = document.querySelector(\".size-div\"); var rand = Math.floor(Math.random() * 200 + 50); target.setAttribute(\"style\", \"height:\" + rand + \"px;border:1px solid;\");&#125;);document .querySelector(\"iframe\") .contentWindow.addEventListener(\"resize\", function () &#123; console.log(\"div changed size\"); &#125;); 123456789101112.size-div &#123; border: 1px solid; position: relative;&#125;iframe &#123; position: absolute; left: 0; top: 0; height: 100%; width: 0; border:0;&#125;","text":"ç›‘å¬å…ƒç´ å°ºå¯¸çš„å˜åŒ–ä¼ ç»Ÿçš„ï¼Œé€šè¿‡resizeæ¥ç›‘å¬å°ºå¯¸å¤§çš„å˜åŒ–ï¼ˆä»¥é«˜åº¦å˜åŒ–ä¸ºä¾‹ï¼‰ç”±äºresizeäº‹ä»¶ä»…åœ¨æŸäº›å…ƒç´ å’Œwindowä¸Šè§¦å‘ï¼Œå¯¹äºå…¶ä»–å…ƒç´ éœ€è¦å€ŸåŠ©è¿™äº›å…ƒç´ æ¥ç›‘å¬å°ºå¯¸çš„å˜åŒ–ã€‚ é¦–å…ˆä¿æŒiframeçš„é«˜åº¦ä¸å˜åŒ–å…ƒç´ çš„é«˜åº¦ä¸€è‡´ï¼Œå½“å…ƒç´ çš„é«˜åº¦å˜åŒ–æ—¶ï¼Œiframeå†…çš„çª—å£å¤§å°ä¹Ÿå˜åŒ–ï¼Œä¼šè§¦å‘iframeå†…windowçš„resizeäº‹ä»¶ï¼Œä»¥æ­¤æ¥ç›‘å¬å…ƒç´ å°ºå¯¸çš„å˜åŒ–ã€‚ 123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;button&gt;change div's height&lt;/button&gt; &lt;div class=\"size-div\" style=\"height:100px;\"&gt; &lt;iframe&gt;&lt;/iframe&gt; the div can change size &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 12345678910document.querySelector(\"button\").addEventListener(\"click\", function () &#123; var target = document.querySelector(\".size-div\"); var rand = Math.floor(Math.random() * 200 + 50); target.setAttribute(\"style\", \"height:\" + rand + \"px;border:1px solid;\");&#125;);document .querySelector(\"iframe\") .contentWindow.addEventListener(\"resize\", function () &#123; console.log(\"div changed size\"); &#125;); 123456789101112.size-div &#123; border: 1px solid; position: relative;&#125;iframe &#123; position: absolute; left: 0; top: 0; height: 100%; width: 0; border:0;&#125; é€šè¿‡ResizeObserver Apiæ¥ç›‘å¬å…ƒç´ å¤§å°çš„å˜åŒ–é€šè¿‡å€ŸåŠ©å…¶ä»–å…ƒç´ æ¥å®ç°ç›‘å¬å…ƒç´ å°ºå¯¸å˜åŒ–æ¯”è¾ƒç¹çï¼Œweb apiä¸­æä¾›äº†ResizeObserveræ¥ç›‘å¬ä»»ä½•å…ƒç´ çš„å°ºå¯¸å˜åŒ– resizeObserver.observeæ‰§è¡Œåä¼šå¼‚æ­¥(macrotask)è§¦å‘1æ¬¡ResizeObserverçš„å›è°ƒå‡½æ•° 1234567891011121314151617&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;button&gt;change div's height&lt;/button&gt; &lt;div class=\"size-div\" style=\"height:100px;\"&gt; the div can change size &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 1234567891011document.querySelector(\"button\").addEventListener(\"click\", function () &#123; var target = document.querySelector(\".size-div\"); var rand = Math.floor(Math.random() * 200 + 50); target.setAttribute(\"style\", \"height:\" + rand + \"px;border:1px solid;\");&#125;);var resizeObserver = new ResizeObserver((entries) =&gt; &#123; for (let entry of entries) &#123; console.log(entry); &#125;&#125;);resizeObserver.observe(document.querySelector(\".size-div\")); 123456789101112.size-div &#123; border: 1px solid; position: relative;&#125;iframe &#123; position: absolute; left: 0; top: 0; height: 100%; width: 0; border:0;&#125;","categories":[{"name":"web-api","slug":"web-api","permalink":"https://hq229075284.github.io/blog/categories/web-api/"}],"tags":[{"name":"web-api","slug":"web-api","permalink":"https://hq229075284.github.io/blog/tags/web-api/"}]},{"title":"ç§»åŠ¨ç«¯å…¼å®¹æ€§é—®é¢˜è®°å½•","slug":"ç§»åŠ¨ç«¯å…¼å®¹æ€§é—®é¢˜è®°å½•","date":"2020-05-31T16:41:04.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2020/05/ç§»åŠ¨ç«¯å…¼å®¹æ€§é—®é¢˜è®°å½•/","link":"","permalink":"https://hq229075284.github.io/blog/2020/05/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/","excerpt":"","text":"ä»…åœ¨androidç‰ˆé’‰é’‰ä¸­åµŒå…¥çš„ç½‘é¡µé‡Œï¼Œå…¨å±apiçš„è°ƒç”¨ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥ç‚¹å‡»è§†é¢‘æ— æ³•é»˜è®¤å°†videoå…ƒç´ å…¨å±æ¥è¿›è¡Œæ’­æ”¾ ä»…åœ¨iosç‰ˆé’‰é’‰ä¸­åµŒå…¥çš„ç½‘é¡µé‡Œï¼Œä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œxhr.upload.onprogressä¸ä¼šè§¦å‘ videoå…ƒç´ åœ¨iosä¸Šé»˜è®¤æ˜¯è°ƒç”¨åŸç”Ÿçš„æ’­æ”¾å™¨å…¨å±æ’­æ”¾ï¼Œè€Œåœ¨androidä¸Šåˆ™é»˜è®¤æ˜¯åœ¨videoå…ƒç´ ä¸­å†…è”æ’­æ”¾ åœ¨iosä¸Šä¸ºäº†è®©videoèƒ½å†…è”æ’­æ”¾ï¼Œéœ€è¦åœ¨videoå…ƒç´ ä¸Šè®¾ç½®playsinlineï¼ˆios10åŠä¹‹åç³»ç»Ÿç‰ˆæœ¬çš„safariä¸­æœ‰æ•ˆï¼‰å’Œwebkit-playsinlineï¼ˆios10ä¹‹å‰çš„safariä¸­æœ‰æ•ˆï¼‰å±æ€§ éšè—ç³»ç»Ÿé»˜è®¤çš„è§†é¢‘æ’­æ”¾æŒ‰é’® 123456789101112*::-webkit-media-controls-start-playback-button &#123; display: none; -webkit-appearance: none;&#125;*::-webkit-media-controls-panel &#123; display: none; -webkit-appearance: none;&#125;*::--webkit-media-controls-play-button &#123; display: none; -webkit-appearance: none;&#125; é’‰é’‰ä¸­è¦æ”¹å˜ç½‘é¡µæ ‡é¢˜ï¼Œéœ€è¦è°ƒç”¨é’‰é’‰çš„apiï¼Œå¼•ç”¨dingtalk-jsapi/api/biz/navigation/setTitle åœ¨iosä¸‹çš„ç½‘é¡µä¸­ï¼Œinputè¾“å…¥æ¡†å†…çš„å†…å®¹æº¢å‡ºè¾“å…¥æ¡†çš„å®½åº¦æ—¶ï¼Œæ— æ³•é€šè¿‡ç§»åŠ¨å…‰æ ‡æ¥æŸ¥çœ‹è¶…å‡ºéƒ¨åˆ†çš„å†…å®¹ï¼Œä¸ç®¡è¿™ä¸ªè¾“å…¥æ¡†æ˜¯å¦åªè¯»ã€‚å› ä¸ºåœ¨ç§»åŠ¨å…‰æ ‡æ—¶ï¼Œè¾“å…¥æ¡†ä¸­æ˜¾ç¤ºçš„å†…å®¹ä¸ä¼šéšç€æ”¹å˜","categories":[{"name":"å…¼å®¹æ€§","slug":"å…¼å®¹æ€§","permalink":"https://hq229075284.github.io/blog/categories/%E5%85%BC%E5%AE%B9%E6%80%A7/"}],"tags":[{"name":"å…¼å®¹æ€§","slug":"å…¼å®¹æ€§","permalink":"https://hq229075284.github.io/blog/tags/%E5%85%BC%E5%AE%B9%E6%80%A7/"}]},{"title":"åŸºäºdockeræ­å»ºgitlab-runner","slug":"åŸºäºdockeræ­å»ºgitlab-runner","date":"2020-05-31T14:13:25.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2020/05/åŸºäºdockeræ­å»ºgitlab-runner/","link":"","permalink":"https://hq229075284.github.io/blog/2020/05/%E5%9F%BA%E4%BA%8Edocker%E6%90%AD%E5%BB%BAgitlab-runner/","excerpt":"åŸºäºdockeræ­å»ºgitlab-runner ä¸‹è½½gitlabé•œåƒ 1docker pull gitlab/gitlab-runner æ³¨å†Œrunner 1234567891011121314151617181920212223242526272829# ps:åœ¨æ³¨å†Œè¿‡ç¨‹ä¸­ç›´æ¥ä»¥äººæœºäº¤äº’çš„æ–¹å¼ä¸€æ­¥ä¸€æ­¥è¿›è¡Œæ³¨å†Œçš„è¯ï¼Œå¯èƒ½ä¼šå‡ºç°ssléªŒè¯ä¸é€šè¿‡çš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ç›´æ¥ç”¨å‘½ä»¤è¡Œå‚æ•°è¿›è¡Œæ³¨å†Œ# --rm ä¸´æ—¶åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œç”¨æ¥è¿è¡Œgitlab/gitlab-runneré•œåƒsudo docker run --rm \\# æŒ‚è½½å®¿ä¸»çš„æ–‡ä»¶ç›®å½•åˆ°å®¹å™¨å†…,ç”¨ä»¥å­˜å‚¨æ³¨å†Œä¹‹åç”Ÿæˆçš„config.tomlæ–‡ä»¶# å½“ä»¥rootç”¨æˆ·è¿è¡Œgitlab-runneræ—¶ï¼Œ/etc/gitlab-runnerä¸ºé»˜è®¤å­˜å‚¨é…ç½®æ–‡ä»¶çš„åœ°æ–¹-v /home/dcxx/gitlab-runner:/etc/gitlab-runner \\# æŒ‡å®šé•œåƒgitlab/gitlab-runner \\# æ‰§è¡Œgitlab-runner registerå‘½ä»¤register \\# ä¸éœ€è¦äº¤äº’å¼--non-interactive \\# gitlab webæœåŠ¡çš„httpsçš„è¯ä¹¦--tls-ca-file '/etc/gitlab-runner/git.dcyun.com.crt' \\# gitlab webæœåŠ¡åœ°å€--url \"https://git.dcyun.com/\" \\# gitlabç½‘ç«™ä¸Šæ·»åŠ runneræ—¶æä¾›çš„token--registration-token \"T3V4vNvQrAMZDyNVFrg7\" \\# æŒ‡å®šåœ¨ä»€ä¹ˆç¯èŠ‚è·‘æ„å»ºè„šæœ¬--executor \"docker\" \\# æŒ‡å®šè·‘æ„å»ºè„šæœ¬æ—¶çš„dockerç¯å¢ƒï¼Œå³é•œåƒ--docker-image ubuntu:latest \\# runnerçš„åç§°ï¼Œä¸»è¦æ˜¾ç¤ºåœ¨jobè¯¦æƒ…ä¸­pipelineé€‰æ‹©runneræ—¶çš„ä¸‹æ‹‰é¡¹ä¸­--name 'å‰ç«¯è‡ªåŠ¨éƒ¨ç½²' \\# è¿è¡Œæ²¡æœ‰é…ç½®tagçš„ä»»åŠ¡æ‰§è¡Œ--run-untagged=\"true\" \\# runnerçš„tag--tag-list 'docker,font-end,common'","text":"åŸºäºdockeræ­å»ºgitlab-runner ä¸‹è½½gitlabé•œåƒ 1docker pull gitlab/gitlab-runner æ³¨å†Œrunner 1234567891011121314151617181920212223242526272829# ps:åœ¨æ³¨å†Œè¿‡ç¨‹ä¸­ç›´æ¥ä»¥äººæœºäº¤äº’çš„æ–¹å¼ä¸€æ­¥ä¸€æ­¥è¿›è¡Œæ³¨å†Œçš„è¯ï¼Œå¯èƒ½ä¼šå‡ºç°ssléªŒè¯ä¸é€šè¿‡çš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ç›´æ¥ç”¨å‘½ä»¤è¡Œå‚æ•°è¿›è¡Œæ³¨å†Œ# --rm ä¸´æ—¶åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œç”¨æ¥è¿è¡Œgitlab/gitlab-runneré•œåƒsudo docker run --rm \\# æŒ‚è½½å®¿ä¸»çš„æ–‡ä»¶ç›®å½•åˆ°å®¹å™¨å†…,ç”¨ä»¥å­˜å‚¨æ³¨å†Œä¹‹åç”Ÿæˆçš„config.tomlæ–‡ä»¶# å½“ä»¥rootç”¨æˆ·è¿è¡Œgitlab-runneræ—¶ï¼Œ/etc/gitlab-runnerä¸ºé»˜è®¤å­˜å‚¨é…ç½®æ–‡ä»¶çš„åœ°æ–¹-v /home/dcxx/gitlab-runner:/etc/gitlab-runner \\# æŒ‡å®šé•œåƒgitlab/gitlab-runner \\# æ‰§è¡Œgitlab-runner registerå‘½ä»¤register \\# ä¸éœ€è¦äº¤äº’å¼--non-interactive \\# gitlab webæœåŠ¡çš„httpsçš„è¯ä¹¦--tls-ca-file '/etc/gitlab-runner/git.dcyun.com.crt' \\# gitlab webæœåŠ¡åœ°å€--url \"https://git.dcyun.com/\" \\# gitlabç½‘ç«™ä¸Šæ·»åŠ runneræ—¶æä¾›çš„token--registration-token \"T3V4vNvQrAMZDyNVFrg7\" \\# æŒ‡å®šåœ¨ä»€ä¹ˆç¯èŠ‚è·‘æ„å»ºè„šæœ¬--executor \"docker\" \\# æŒ‡å®šè·‘æ„å»ºè„šæœ¬æ—¶çš„dockerç¯å¢ƒï¼Œå³é•œåƒ--docker-image ubuntu:latest \\# runnerçš„åç§°ï¼Œä¸»è¦æ˜¾ç¤ºåœ¨jobè¯¦æƒ…ä¸­pipelineé€‰æ‹©runneræ—¶çš„ä¸‹æ‹‰é¡¹ä¸­--name 'å‰ç«¯è‡ªåŠ¨éƒ¨ç½²' \\# è¿è¡Œæ²¡æœ‰é…ç½®tagçš„ä»»åŠ¡æ‰§è¡Œ--run-untagged=\"true\" \\# runnerçš„tag--tag-list 'docker,font-end,common' gitlab-runneræ³¨å†Œå®Œä¹‹åä¼šäº§ç”Ÿconfig.tomlæ–‡ä»¶ # ç”¨gitlab/gitlab-runneré•œåƒï¼Œè·‘èµ·ä¸€ä¸ªgitlab-runnerçš„å®¹å™¨ # å¯åŠ¨ä¹‹åï¼Œä¹‹å‰æ³¨å†Œçš„runnerå°±ä¼šå¤„äºåœ¨çº¿ä¸”å¯ç”¨çŠ¶æ€ docker run -it --name gitlab-runner --restart always \\ -v /home/dcxx/gitlab-runner:/etc/gitlab-runner \\ -v /var/run/docker.sock:/var/run/docker.sock \\ gitlab/gitlab-runner 1234567893. gitlab-runneræ‹‰å–ä»£ç æ—¶ï¼Œä¼šå­˜åœ¨ssléªŒè¯ä¸é€šè¿‡çš„é—®é¢˜ï¼Œéœ€è¦åœ¨config.tomlä¸­æ·»åŠ é…ç½®ï¼š &#96;&#96;&#96;toml # &quot;&quot;&quot;ç”¨äºåŒ…è£¹å¤šè¡Œ pre_clone_script &#x3D; &quot;&quot;&quot; # å…³é—­gitçš„ssléªŒè¯ git config --global http.sslverify false &quot;&quot;&quot; ä»å®¿ä¸»æœºä¸ŠæŒ‚è½½nodeç¯å¢ƒå’Œè½¯ä»¶æºé…ç½®æ–‡ä»¶åˆ°å®¹å™¨ä¸­ï¼Œæ–¹ä¾¿å®¹å™¨ä¸­çš„è„šæ­¥æ‰§è¡Œå’Œè½¯ä»¶æºé…ç½® 12[runners.docker] volumes = [\"/cache\",\"/home/dcxx/gitlab-runner/node:/node\",\"/etc/apt/sources.http.list:/sources.list\"] åœ¨é¡¹ç›®ä¸­åˆ›å»º.gitlab-ci.yml before_script: # æ·»åŠ nodeåˆ°ç¯å¢ƒä¸­ - PATH=/node/bin:$PATH # ç”±äºUbuntuå®˜æ–¹çš„è½¯ä»¶æºéƒ¨åˆ†è¢«å¢™ # éœ€è¦æ›´æ”¹Ubuntuçš„è½¯ä»¶æº - cat /sources.list - cp -f /sources.list /etc/apt/sources.list # å®‰è£…sshç›¸å…³çš„ä¾èµ–ï¼Œç”¨äºscpå‘å¸ƒ - &#39;which ssh-agent || ( apt update -y &amp;&amp; apt install openssh-client -y )&#39; # åˆ›å»º.sshæ–‡ä»¶å¤¹ç”¨äºå­˜å‚¨id_rsaç§é’¥ - mkdir -p ~/.ssh # è¯»å–gitlabè®¾ç½®ä¸‹Variablesä¸­é…ç½®çš„SSH_PRIVATE_KEYå˜é‡ï¼Œå°†å…¶å†™å…¥id_rsaä¸­ - echo &quot;$SSH_PRIVATE_KEY&quot; &gt; ~/.ssh/id_rsa # è®¾ç½®ä»…å½“å‰ç”¨æˆ·å¯ç”¨ï¼ˆsshç¡¬æ€§è¦æ±‚ï¼‰ - chmod -R 700 ~/.ssh - eval $(ssh-agent -s) # ç”¨äºè§£å†³ - ssh-agent bash # æ·»åŠ å¯†é’¥ - ssh-add ~/.ssh/id_rsa # å½“sshç¬¬ä¸€æ¬¡è¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„æ—¶å€™ï¼Œä¼šå…ˆè¯¢é—®æ˜¯å¦è¿æ¥è¿™å°ä¸»æœºï¼Œå› ä¸ºæ˜¯åœ¨ciä¸­è·‘ï¼Œæ— æ³•è¿›è¡Œäººæœºäº¤äº’ï¼Œæ‰€ä»¥è®¾ç½®æˆä¸æ£€æŸ¥host keyï¼Œå¦åˆ™ä¼šæŠ¥`host key verification failed`çš„é”™è¯¯ - echo -e &quot;Host *\\\\n\\\\tStrictHostKeyChecking no\\\\n&quot; &gt; ~/.ssh/config dev: script: # è·‘æ„å»ºä»£ç çš„è„šæœ¬ - npm run serve after_script: # å°†æ„å»ºåçš„ä»£ç å‘å¸ƒåˆ°é¡¹ç›®æœåŠ¡å™¨ - scp -r ./dist dcxx@192.168.2.130:~/web/dist 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&gt; OpenSSHå°†è®¿é—®è¿‡è®¡ç®—æœºçš„å…¬é’¥(public key)éƒ½è®°å½•åœ¨~&#x2F;.ssh&#x2F;known_hostsä¸­ã€‚å½“ä¸‹æ¬¡è®¿é—®ç›¸åŒè®¡ç®—æœºæ—¶ï¼ŒOpenSSHä¼šæ ¸å¯¹å…¬é’¥ã€‚å¦‚æœå…¬é’¥ä¸åŒï¼ŒOpenSSHä¼šå‘å‡ºè­¦å‘Šï¼Œé¿å…ä½ å—åˆ°DNS Hijackä¹‹ç±»çš„æ”»å‡»ã€‚&gt;&gt; SSHå¯¹ä¸»æœºçš„public_keyçš„æ£€æŸ¥ç­‰çº§æ˜¯æ ¹æ®StrictHostKeyCheckingå˜é‡æ¥é…ç½®çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒStrictHostKeyChecking&#x3D;askã€‚ç®€å•æ‰€ä¸‹å®ƒçš„ä¸‰ç§é…ç½®å€¼ï¼š&gt;&gt; 1. StrictHostKeyChecking&#x3D;no &gt;&gt; æœ€ä¸å®‰å…¨çš„çº§åˆ«ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šçƒ¦äººçš„æç¤ºäº†ï¼Œç›¸å¯¹å®‰å…¨çš„å†…ç½‘æ—¶å»ºè®®ä½¿ç”¨ã€‚å¦‚æœè¿æ¥serverçš„keyåœ¨æœ¬åœ°ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±è‡ªåŠ¨æ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼ˆé»˜è®¤æ˜¯known_hostsï¼‰ï¼Œå¹¶ä¸”ç»™å‡ºä¸€ä¸ªè­¦å‘Šã€‚&gt;&gt; 2. StrictHostKeyChecking&#x3D;ask &gt;&gt; é»˜è®¤çš„çº§åˆ«ï¼Œå°±æ˜¯å‡ºç°åˆšæ‰çš„æç¤ºäº†ã€‚å¦‚æœè¿æ¥å’Œkeyä¸åŒ¹é…ï¼Œç»™å‡ºæç¤ºï¼Œå¹¶æ‹’ç»ç™»å½•ã€‚&gt;&gt; 3. StrictHostKeyChecking&#x3D;yes &gt;&gt; æœ€å®‰å…¨çš„çº§åˆ«ï¼Œå¦‚æœè¿æ¥ä¸keyä¸åŒ¹é…ï¼Œå°±æ‹’ç»è¿æ¥ï¼Œä¸ä¼šæç¤ºè¯¦ç»†ä¿¡æ¯ã€‚8. ä¹‹åæäº¤ä»£ç å°±å¯ä»¥çœ‹åˆ°runnerçš„æ•ˆæœäº† &gt; åœ¨gitlab-runneræ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œconfig.tomlçš„pre_clone_scriptå’Œ.gitlab-ci.ymlçš„before_scriptã€scriptã€after_scriptæ˜¯åœ¨ç›¸äº’éš”ç¦»çš„ç¯å¢ƒä¸‹è¿è¡Œçš„ï¼ˆå¤§æ¦‚çŒœæµ‹æ˜¯åœ¨ä¸åŒçš„dockerå®¹å™¨ä¸‹ï¼‰&#96;&#96;&#96;toml# config.tomlå¤§è‡´çš„ç»“æ„concurrent &#x3D; 2check_interval &#x3D; 0[session_server] session_timeout &#x3D; 1800[[runners]] name &#x3D; &quot;test&quot; url &#x3D; &quot;https:&#x2F;&#x2F;git.dcyun.com&#x2F;&quot; token &#x3D; &quot;q7pn15zhaZyJQzuHxyCC&quot; tls-ca-file &#x3D; &quot;&#x2F;etc&#x2F;gitlab-runner&#x2F;certs&#x2F;git.dcyun.com.crt&quot; pre_clone_script &#x3D; &quot;&quot;&quot; git config --global http.sslverify false &quot;&quot;&quot; executor &#x3D; &quot;docker&quot; [runners.custom_build_dir] [runners.cache] [runners.cache.s3] [runners.cache.gcs] [runners.docker] tls_verify &#x3D; false image &#x3D; &quot;ubuntu&quot; privileged &#x3D; false disable_entrypoint_overwrite &#x3D; false oom_kill_disable &#x3D; false disable_cache &#x3D; false volumes &#x3D; [&quot;&#x2F;cache&quot;,&quot;&#x2F;home&#x2F;dcxx&#x2F;gitlab-runner&#x2F;node:&#x2F;node&quot;,&quot;&#x2F;etc&#x2F;apt&#x2F;sources.http.list:&#x2F;sources.list&quot;] shm_size &#x3D; 0","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://hq229075284.github.io/blog/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://hq229075284.github.io/blog/tags/docker/"}]},{"title":"dockerç¯å¢ƒé…ç½®","slug":"dockerç¯å¢ƒé…ç½®","date":"2020-05-31T13:52:28.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2020/05/dockerç¯å¢ƒé…ç½®/","link":"","permalink":"https://hq229075284.github.io/blog/2020/05/docker%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/","excerpt":"","text":"å®¿ä¸»æœºé…ç½® docker-ce å›½å†…é•œåƒä¸‹è½½ è®¾ç½®Ubuntuè½¯ä»¶æºä¸ºæ¸…åé•œåƒ è®¾ç½®docker hubå›½å†…é•œåƒ 1234567// /etc/docker/daemon.json&#123; \"registry-mirrors\" : [ // ç½‘æ˜“ \"https://hub-mirror.c.163.com\", ]&#125; æˆ–è€…ä½¿ç”¨é˜¿é‡Œçš„é•œåƒ","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://hq229075284.github.io/blog/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://hq229075284.github.io/blog/tags/docker/"}]},{"title":"CSRF","slug":"CSRF","date":"2020-05-31T13:50:03.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2020/05/CSRF/","link":"","permalink":"https://hq229075284.github.io/blog/2020/05/CSRF/","excerpt":"","text":"CSRFé˜²èŒƒæªæ–½ï¼š æ£€æµ‹è¯·æ±‚å¤´ä¸­çš„Refererå­—æ®µï¼Œåˆ¤æ–­è¯·æ±‚çš„æ¥æºæ˜¯å¦æ˜¯æ¥è‡ªåˆæ³•ï¼ˆæ„æ–™ä¹‹ä¸­ï¼‰çš„ç½‘ç«™ åœ¨tokenæ— æ³•è¢«ä»–äººçªƒå–çš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯¹åŒä¸€ç”¨æˆ·åœ¨ä¸¤ç«¯éƒ½ä¿ç•™ä¸€ä¸ªç›¸åŒçš„tokenï¼Œé€šè¿‡æ£€æµ‹tokenæ˜¯å¦ä¸€è‡´æ¥ç¡®å®šæ˜¯å¦ä¸ºåŒä¸€ç”¨æˆ· tokenä¸å¯ä»¥æ”¾åœ¨cookieä¸­ï¼Œé˜²æ­¢åœ¨è®¿é—®æœåŠ¡ç«¯æ—¶æµè§ˆå™¨è‡ªåŠ¨ç»™è¯·æ±‚å¸¦ä¸Šcookieï¼ˆæµè§ˆå™¨cookieè®¾ç½®çš„è¡Œä¸ºï¼‰ JWTï¼ˆå«æœ‰å°‘é‡ä¿¡æ¯çš„tokenï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šåç«¯ä»£ç å¯ä»¥å‡å°‘ä¸æ•°æ®åº“çš„äº¤äº’ï¼‰ å°†tokenæ”¾åœ¨é¡µé¢çš„urlä¸Šæœ‰æ—¶æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºè·³è½¬åçš„é¡µé¢ä¹Ÿå¯èƒ½ä¼šè·å–åˆ°ä¸Šä¸€ä¸ªé¡µé¢çš„urlå†…å®¹","categories":[{"name":"webå®‰å…¨","slug":"webå®‰å…¨","permalink":"https://hq229075284.github.io/blog/categories/web%E5%AE%89%E5%85%A8/"}],"tags":[]},{"title":"typescriptå­¦ä¹ è®°å½•","slug":"typescriptå­¦ä¹ è®°å½•","date":"2020-01-20T16:27:58.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2020/01/typescriptå­¦ä¹ è®°å½•/","link":"","permalink":"https://hq229075284.github.io/blog/2020/01/typescript%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/","excerpt":"","text":"typescripté…ç½®ç›¸å…³çš„åœ¨vscodeä¸­ï¼Œé€šè¿‡é…ç½®typescriptï¼Œè®©vscodeå¯ä»¥è¯†åˆ«css-moduleï¼Œè¿›è€Œæä¾›css-moduleç›¸å…³çš„ä»£ç è¡¥å…¨åœ¨tsconfig.jsonä¸­é…ç½®typescript-plugin-css-modulesæ’ä»¶ vscodeä¸­workaroundçš„settingé…ç½®ä¸º&quot;typescript.tsdk&quot;: &quot;node_modules\\\\typescript\\\\lib&quot;æ¥ä½¿ç”¨å·¥ä½œåŒºä¸‹çš„node_modulesä¸­çš„typescriptæ¥åŠ è½½æ’ä»¶ã€‚reference eslintä¸­è¡Œæœ«ç»“æŸç¬¦æ— æ³•è‡ªåŠ¨ä¿®å¤Expected linebreaks to be &#39;LF&#39; but found &#39;CRLF&#39;.eslint(linebreak-style)åœ¨eslintå¯è¯†åˆ«ä½†ç”±äºbugæš‚ä¸å¯è‡ªåŠ¨ä¿®å¤ æš‚æ—¶ä½¿ç”¨EditorConfigè¿™ä¸ªvscodeæ’ä»¶æ¥è§£å†³è¡Œæœ«IFå’ŒCRLFçš„é—®é¢˜ typescriptè§„å®šç›¸å…³çš„tsä¸­å¯¹å¯¹è±¡å­—é¢é‡åšå‚æ•°è¿‡å¤šæ£€æµ‹çš„æƒ…å†µï¼Œä»¥å¦‚ä½•ç»•è¿‡tsä¸­å¯¹å¯¹è±¡å­—é¢é‡åšæ£€æµ‹çš„æ—¶å€™ï¼Œåœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼ˆå­—é¢é‡ç›´æ¥èµ‹å€¼ç»™å…¶å®ƒå˜é‡ã€å­—é¢é‡ç›´æ¥ä½œä¸ºå‡½æ•°å…¥å‚ï¼‰ä¼šé¢å¤–åšå‚æ•°è¿‡å¤š(excess property checking)çš„æ£€æµ‹ However, TypeScript takes the stance that thereâ€™s probably a bug in this code. Object literals get special treatment and undergo excess property checking when assigning them to other variables, or passing them as arguments. If an object literal has any properties that the â€œtarget typeâ€ doesnâ€™t have, youâ€™ll get an error: ç»•è¿‡excess property checkingçš„æ–¹æ³• 1231. use a type assertionï¼ˆç±»å‹æ–­è¨€ï¼‰2. add a string index signatureï¼ˆå®šä¹‰stringå‹çš„ç´¢å¼•ç­¾åï¼‰3. One final way to get around these checks, which might be a bitsurprising, is to assign the object to another variable tsæ–‡ä»¶ä¸­ç±»å‹çš„ç”³æ˜ä½œç”¨åŸŸå¦‚ä½•å†³å®štsæ ¹æ®è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨importæˆ–è€…exportæ¥å†³å®šå½“å‰æ–‡ä»¶æ˜¯ä¸ªæ¨¡å—è¿˜æ˜¯è¿è¡Œåœ¨å…¨å±€ç¯å¢ƒä¸‹ï¼Œä»¥æ­¤æ¥æ¨æ–­ç±»å‹ç”³æ˜æ˜¯å¦å­˜åœ¨äºå…¨å±€ä¸­ å‚è€ƒï¼š https://stackoverflow.com/questions/40900791/cannot-redeclare-block-scoped-variable-in-unrelated-files github-issus","categories":[{"name":"typescript","slug":"typescript","permalink":"https://hq229075284.github.io/blog/categories/typescript/"}],"tags":[]},{"title":"react-hooks","slug":"react-hooks","date":"2019-06-06T16:53:34.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2019/06/react-hooks/","link":"","permalink":"https://hq229075284.github.io/blog/2019/06/react-hooks/","excerpt":"","text":"React Hookshooksçš„è°ƒç”¨é¡ºåº Basic Hooks useState useEffect useContext Additional Hooks useReducer useCallback useMemo useRef useImperativeHandle useLayoutEffect useDebugValue","categories":[],"tags":[]},{"title":"webApi","slug":"webApi","date":"2019-06-06T15:46:24.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2019/06/webApi/","link":"","permalink":"https://hq229075284.github.io/blog/2019/06/webApi/","excerpt":"","text":"IntersectionObserver å®šä¹‰çš„è§†å£å’Œç›®æ ‡å…ƒç´ ä¹‹é—´ç›¸äº¤çš„å…³ç³» 1var observer = new IntersectionObserver(callback[, options]) å½“ç›®æ ‡å…ƒç´ åœ¨å®šä¹‰çš„è§†å£ä¸­çš„å¯è§ç™¾åˆ†æ¯”è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œcallbackä¼šè¢«è°ƒç”¨ï¼Œå…¥å‚æœ‰ä¸¤ä¸ªï¼š entriesï¼šç”±IntersectionObserverEntryå¯¹è±¡æ„æˆçš„æ•°ç»„ï¼Œä»…åŒ…å«è§¦å‘é˜ˆå€¼çš„ç›®æ ‡å…ƒç´ çš„IntersectionObserverEntryå¯¹è±¡ï¼Œæ¯ä¸ªIntersectionObserverEntryå¯¹è±¡å¯¹åº”ä¸€ä¸ªç›®æ ‡å…ƒç´ ï¼Œé¡ºåºå’Œç›®æ ‡å…ƒç´ è¢«ç›‘å¬çš„å…ˆåä¸€è‡´ observerï¼šå½“å‰çš„IntersectionObserverå®ä¾‹ optionsåŒ…å«3ä¸ªå±æ€§ï¼š rootï¼šå®šä¹‰è§†å£å…ƒç´ ï¼Œå½“optionsæœªæŒ‡å®šæˆ–è€…rootä¸ºnullæ—¶ï¼Œé»˜è®¤æœªdocument rootMarginï¼šå€¼çš„è¯­æ³•ä¸cssçš„marginä¸€æ ·ï¼Œæ­£å€¼ä¸ºåœ¨rootè§†å£çš„è¾¹ç¼˜å‘å¤–æ‰©å±•ï¼Œå³è§†å£å˜å¤§ï¼Œåä¹‹åˆ™å˜å° thresholdï¼šå€¼ä¸ºæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„å–å€¼èŒƒå›´ä¸º[0,1]ï¼Œå½“ç›®æ ‡å…ƒç´ åœ¨è§†å£ä¸­çš„å¯è§ç™¾åˆ†æ¯”è¶Šè¿‡æ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„å€¼æ—¶ï¼Œåˆ™callbackä¼šè¢«è°ƒç”¨ã€‚æ¯”å¦‚ï¼š åŸæ¥ç›®æ ‡å…ƒç´ å¯è§ç™¾åˆ†æ¯” æ»šåŠ¨ä¹‹åç›®æ ‡å…ƒç´ å¯è§ç™¾åˆ†æ¯” æ•°ç»„ä¸­çš„æŸä¸€é˜ˆå€¼ ç»“æœ 0.45 0.51 0.5 callbackè¢«è§¦å‘ 0.51 0.45 0.5 callbackè¢«è§¦å‘ observerå®ä¾‹å¯¹è±¡ä¸Šå«æœ‰4ä¸ªå‡½æ•°ï¼š disconnectï¼šåœæ­¢æ­¤observerå¯¹è±¡ä¸­ç›‘å¬çš„æ‰€æœ‰ç›®æ ‡å…ƒç´  observerï¼šç”¨äºæŒ‡å®šobserveréœ€è¦ç›‘å¬çš„ç›®æ ‡å…ƒç´ ï¼Œå…¥å‚ä¸º1ä¸ªç›®æ ‡å…ƒç´ ï¼Œä¸”ä¸ºrootçš„å­å­™å…ƒç´  takeRecordsï¼šè·å–observerå†…éƒ¨ä¿å­˜çš„ç”±IntersectionObserverEntryå¯¹è±¡æ„æˆçš„æ•°ç»„ unobserverï¼šç”¨äºåœæ­¢ç›‘å¬æŸä¸€ç›®æ ‡å…ƒç´ ï¼Œå…¥å‚ä¸º1ä¸ªå¯¹åº”éœ€è¦åœæ­¢ç›‘å¬çš„ç›®æ ‡å…ƒç´ ï¼Œ é™„ï¼šIntersectionObserverEntry","categories":[],"tags":[]},{"title":"cookieæ€»ç»“","slug":"cookieæ€»ç»“","date":"2019-02-15T10:52:59.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2019/02/cookieæ€»ç»“/","link":"","permalink":"https://hq229075284.github.io/blog/2019/02/cookie%E6%80%BB%E7%BB%93/","excerpt":"","text":"CookieçŸ¥è¯†ç‚¹è®°å½• å‚è€ƒï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Set-Cookiehttps://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies Expiresï¼šcookie çš„æœ€é•¿æœ‰æ•ˆæ—¶é—´ï¼Œå½¢å¼ä¸ºç¬¦åˆ HTTP-date è§„èŒƒçš„æ—¶é—´æˆ³ï¼Œæ¯”å¦‚ï¼šDate: Wed, 21 Oct 2015 07:28:00 GMTï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªä¼šè¯æœŸ cookie ã€‚ä¸€ä¸ªä¼šè¯ç»“æŸäºå®¢æˆ·ç«¯è¢«å…³é—­æ—¶ï¼Œè¿™æ„å‘³ç€ä¼šè¯æœŸ cookie åœ¨å½¼æ—¶ä¼šè¢«ç§»é™¤ã€‚(https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies#Session_cookies) Max-Age:åœ¨ cookie å¤±æ•ˆä¹‹å‰éœ€è¦ç»è¿‡çš„ç§’æ•°ã€‚ä¸€ä½æˆ–å¤šä½éé›¶ï¼ˆ1-9ï¼‰æ•°å­—ã€‚å‡å¦‚äºŒè€… ï¼ˆæŒ‡ Expires å’ŒMax-Ageï¼‰ å‡å­˜åœ¨ï¼Œé‚£ä¹ˆ Max-Age ä¼˜å…ˆçº§æ›´é«˜ Domain:æŒ‡å®š cookie å¯ä»¥é€è¾¾çš„ç›®æ ‡ã€‚å‡å¦‚æ²¡æœ‰æŒ‡å®šï¼Œé‚£ä¹ˆé»˜è®¤å€¼ä¸ºå½“å‰æ–‡æ¡£è®¿é—®åœ°å€ä¸­çš„ä¸»æœºéƒ¨åˆ†ï¼ˆä½†æ˜¯ä¸åŒ…å«å­åŸŸåï¼‰ã€‚åç«¯åœ¨è®¾ç½®set-Cookieæ—¶ï¼Œä¸æŒ‡å®šDomainï¼Œåˆ™é»˜è®¤æ˜¯å½“å‰æ¥å£åœ°å€çš„ä¸»åŸŸå+portæˆ–è€…ip+port Path:æŒ‡å®šä¸€ä¸ª URL è·¯å¾„ï¼Œè¿™ä¸ªè·¯å¾„å¿…é¡»å‡ºç°åœ¨è¦è¯·æ±‚çš„èµ„æºçš„è·¯å¾„ä¸­æ‰å¯ä»¥å‘é€æ­¤Cookieã€‚ Secure:ä¸€ä¸ªå¸¦æœ‰å®‰å…¨å±æ€§çš„ cookie åªæœ‰åœ¨è¯·æ±‚ä½¿ç”¨SSLå’ŒHTTPSåè®®çš„æ—¶å€™æ‰ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨ HttpOnly:è®¾ç½®äº† HttpOnly å±æ€§çš„ cookie ä¸èƒ½ä½¿ç”¨ JavaScript ç»ç”± Document.cookie å±æ€§ã€XMLHttpRequest å’Œ Request APIs è¿›è¡Œè®¿é—®ï¼Œä»¥é˜²èŒƒè·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰ã€‚ SameSite(å®éªŒå±æ€§):å…è®¸æœåŠ¡å™¨è®¾å®šä¸€åˆ™ cookie ä¸éšç€è·¨åŸŸè¯·æ±‚ä¸€èµ·å‘é€ï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šé˜²èŒƒè·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»ï¼ˆCSRFï¼‰","categories":[],"tags":[]},{"title":"mvcä¸mvpä¸mvvm","slug":"mvcä¸mvpä¸mvvm","date":"2019-02-12T13:58:44.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2019/02/mvcä¸mvpä¸mvvm/","link":"","permalink":"https://hq229075284.github.io/blog/2019/02/mvc%E4%B8%8Emvp%E4%B8%8Emvvm/","excerpt":"MVC123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// viewfunction View(controller) &#123; var target = $('#some-element')[0] this.render = function (model) &#123; target.innerText = model.getValue() &#125; target.addEventListener('click', controller.click)&#125;// modelfunction Model() &#123; var _value = 0 var registerViews = [] this.register = function (viewInstance) &#123; registerViews.push(viewInstance) &#125; this.notify = function () &#123; var self = this registerViews.forEach(function (viewInstance) &#123; viewInstance.render(self) &#125;) &#125; this.add = function () &#123; _value += 1 &#125; this.getValue = function () &#123; return _value &#125;&#125;// controllerfunction Controller() &#123; var model, view this.init = function () &#123; model = new Model() view = new View(this) model.register(view) model.notify() setTimeout(function () &#123; view.render(&#123; getValue: function () &#123; return 1000 &#125; &#125;) &#125;, 1000) &#125; this.click = function () &#123; model.add() model.notify() &#125;&#125;// è°ƒç”¨var controller = new Controller()controller.init() æ€»ç»“ mvcæ¨¡å¼ä¸­modelå±‚å¯ä»¥ç›´æ¥é€šçŸ¥viewå±‚é‡æ–°æ¸²æŸ“è§†å›¾ ä»…ç”±controllerå±‚å‘èµ·modelå±‚çš„ä¿®æ”¹ ä»£ç çš„æ‰§è¡Œå…¥å£æ˜¯controller controllerå†…éƒ¨ç»´æŠ¤ç€modelå±‚å’Œviewå±‚ä¹‹é—´çš„å…³ç³»â€”â€”åŒæ­¥è§†å›¾å’Œæ•°æ® controllerå¯ä»¥é€šè¿‡modelå±‚ä½¿viewå±‚é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿viewå±‚é‡æ–°æ¸²æŸ“","text":"MVC123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// viewfunction View(controller) &#123; var target = $('#some-element')[0] this.render = function (model) &#123; target.innerText = model.getValue() &#125; target.addEventListener('click', controller.click)&#125;// modelfunction Model() &#123; var _value = 0 var registerViews = [] this.register = function (viewInstance) &#123; registerViews.push(viewInstance) &#125; this.notify = function () &#123; var self = this registerViews.forEach(function (viewInstance) &#123; viewInstance.render(self) &#125;) &#125; this.add = function () &#123; _value += 1 &#125; this.getValue = function () &#123; return _value &#125;&#125;// controllerfunction Controller() &#123; var model, view this.init = function () &#123; model = new Model() view = new View(this) model.register(view) model.notify() setTimeout(function () &#123; view.render(&#123; getValue: function () &#123; return 1000 &#125; &#125;) &#125;, 1000) &#125; this.click = function () &#123; model.add() model.notify() &#125;&#125;// è°ƒç”¨var controller = new Controller()controller.init() æ€»ç»“ mvcæ¨¡å¼ä¸­modelå±‚å¯ä»¥ç›´æ¥é€šçŸ¥viewå±‚é‡æ–°æ¸²æŸ“è§†å›¾ ä»…ç”±controllerå±‚å‘èµ·modelå±‚çš„ä¿®æ”¹ ä»£ç çš„æ‰§è¡Œå…¥å£æ˜¯controller controllerå†…éƒ¨ç»´æŠ¤ç€modelå±‚å’Œviewå±‚ä¹‹é—´çš„å…³ç³»â€”â€”åŒæ­¥è§†å›¾å’Œæ•°æ® controllerå¯ä»¥é€šè¿‡modelå±‚ä½¿viewå±‚é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿viewå±‚é‡æ–°æ¸²æŸ“ MVP1234567891011121314151617181920212223242526272829303132333435363738394041// viewfunction View() &#123; var target = $(\"#some-element\")[0]; this.init = function() &#123; const presenter = new Presenter(this); target.addEventListener(\"click\", presenter.click); &#125;; this.render = function(model) &#123; target.innerText = model.getValue(); &#125;;&#125;// modelfunction Model() &#123; var _value = 0; this.add = function() &#123; _value += 1; &#125;; this.getValue = function() &#123; return _value; &#125;;&#125;// presenterfunction Presenter(view) &#123; var model = new Model(); view.render(model); this.click = function() &#123; model.add(); view.render(model); &#125;; setTimeout(function() &#123; view.render(&#123; getValue: function() &#123; return 1000; &#125; &#125;); &#125;, 1000);&#125;// è°ƒç”¨var view = new View();view.init(); æ€»ç»“ MVPæ¨¡å¼ä¸­modelå±‚å¾ˆçº¯ç²¹ï¼Œä»…ä¿®æ”¹å’Œå­˜å‚¨æ•°æ®ï¼Œåœ¨å†…éƒ¨ä¸ä¸viewå±‚æœ‰ç‰µè¿ ä»…ç”±presenterå±‚å‘èµ·viewå±‚çš„é‡æ–°æ¸²æŸ“ ä»…ç”±presenterå±‚å‘èµ·modelå±‚çš„ä¿®æ”¹ ä»£ç çš„æ‰§è¡Œå…¥å£æ˜¯view presenterå†…éƒ¨ç»´æŠ¤ç€modelå±‚å’Œviewå±‚ä¹‹é—´çš„å…³ç³»â€”â€”åŒæ­¥è§†å›¾å’Œæ•°æ® MVVM123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// viewfunction View(vm) &#123; var target = $('#some-element')[0] this.render = function (model) &#123; target.innerText = model.getValue() &#125; target.addEventListener('input', vm.input)&#125;// modelfunction Model(vm) &#123; var _value = 0 var data = &#123;&#125; Object.defineProperty(data, 'value', &#123; get: function () &#123; return _value &#125;, set: function (nextValue) &#123; vm.notify(nextValue) _value = nextValue &#125; &#125;) this.change = function (nextValue) &#123; data.value = nextValue &#125; this.getValue = function () &#123; return _value &#125;&#125;// viewmodelfunction ViewModel() &#123; var model, view, needRespond = true this.init = function () &#123; view = new View(this) model = new Model(this) view.render(model) &#125; this.input = function (e) &#123; model.change(e.target.value) &#125; this.notify = function (nextValue) &#123; if (needRespond) &#123; console.log('new value:', nextValue) view.render(model) &#125; &#125;&#125;// è°ƒç”¨var vm = new ViewModel()vm.init() æ€»ç»“ MVVMæ¨¡å¼ä¸­modelå±‚å’Œviewå±‚é€šè¿‡viewmodelå±‚å…³è”ï¼Œé€šè¿‡viewmodelå±‚åŒæ­¥è§†å›¾å’Œæ•°æ® ä»…ç”±viewmodelå±‚å‘èµ·viewå±‚çš„é‡æ–°æ¸²æŸ“ viewå±‚çš„ä¿®æ”¹å¯ä»¥è¢«viewmodelå±‚æ„ŸçŸ¥åˆ° modelå±‚çš„ä¿®æ”¹å¯ä»¥è¢«viewmodelå±‚æ„ŸçŸ¥åˆ° ä»£ç çš„æ‰§è¡Œå…¥å£æ˜¯viewmodel","categories":[],"tags":[]},{"title":"åŸºæœ¬æ’åºæ³•æ¦‚è§ˆ","slug":"åŸºæœ¬æ’åºæ³•æ¦‚è§ˆ","date":"2018-11-08T14:12:51.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2018/11/åŸºæœ¬æ’åºæ³•æ¦‚è§ˆ/","link":"","permalink":"https://hq229075284.github.io/blog/2018/11/%E5%9F%BA%E6%9C%AC%E6%8E%92%E5%BA%8F%E6%B3%95%E6%A6%82%E8%A7%88/","excerpt":"","text":"å†’æ³¡æ’åº é€‰æ‹©æ’åº æ’å…¥æ’åº æœ¬æ–‡æ‰€æœ‰æµ‹è¯•åŠæ’åºç®—æ³• å…¬ç”¨æµ‹è¯•éƒ¨åˆ† 1234567function createTestData() &#123; var testData = [] for (var i = 0; i &lt; 10; i++) &#123; testData.push(Math.floor(Math.random() * 100)) &#125; return testData&#125; å†’æ³¡æ’åºå¯ä»¥å…ˆæ‰¾å¤§çš„ï¼Œä¹Ÿå¯ä»¥å…ˆæ‰¾å°çš„ å«æœ‰ä¸¤å±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å†³å®šå†’æ³¡æ’åºçš„ç»“æŸä½ç½®ç´¢å¼•ï¼Œå†…å±‚å¾ªç¯å†³å®šå½“å‰è¿™ä¸€é¡¹å†’æ³¡æ’åºçš„å¼€å§‹ä½ç½®ç´¢å¼• æ¯æ¬¡å†…å±‚å¾ªç¯ï¼Œä»…æ¯”è¾ƒå½“å‰é¡¹å’Œä¸‹ä¸€é¡¹çš„å¤§å°ï¼Œå¦‚æœå½“å‰é¡¹è¾ƒå¤§ï¼Œåˆ™å°†ä¸¤é¡¹ä½ç½®äº’æ¢ã€‚ ä¿è¯æ¯æ¬¡å†…å±‚å¾ªç¯ç»“æŸåï¼Œå†…å±‚å¾ªç¯çš„æ•°åˆ—çš„æœ«å°¾å€¼æ˜¯è¯¥æ•°åˆ—çš„æœ€å¤§å€¼ 12345678910111213function sort(data = []) &#123; data = Object.assign([], data) for (sp = data.length - 2; sp &gt;= 1; sp--) &#123; for (mp = 0; mp &lt;= sp; mp++) &#123; if (data[mp] &gt; data[mp + 1]) &#123; var temp = data[mp] data[mp] = data[mp + 1] data[mp + 1] = temp &#125; &#125; &#125; return data&#125; é€‰æ‹©æ’åºå¯ä»¥å…ˆæ‰¾å¤§çš„ï¼Œä¹Ÿå¯ä»¥å…ˆæ‰¾å°çš„ å«æœ‰ä¸¤å±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å†³å®š\u001dé€‰æ‹©æ’åºå½“å‰æ¯”è¾ƒæ•°åˆ—çš„å¼€å§‹ç´¢å¼•ï¼ŒåŒæ—¶å‡å®šå½“å‰å¼€å§‹ç´¢å¼•ä¸­å­˜å‚¨çš„å€¼æœ€å°ï¼Œå†…å±‚å¾ªç¯å†³å®šé€‰æ‹©æ’åºä»ç„¶éœ€è¦æ¯”è¾ƒçš„æ•°åˆ—èŒƒå›´ å½“éœ€è¦æ¯”è¾ƒçš„æ•°åˆ—èŒƒå›´å†…æœ‰æ¯”å½“å‰å‡å®šçš„æœ€å°å€¼å°çš„å€¼æ—¶ï¼Œå°†ä¸¤ä¸ªå€¼çš„ä½ç½®äº’æ¢ è¿™ç§ç®—æ³•ä¿è¯æ¯æ¬¡å†…å±‚å¾ªç¯åéƒ½æ‰¾åˆ°å½“å‰å†…å±‚å¾ªç¯é˜Ÿåˆ—ä¸­çš„æœ€å°å€¼ï¼Œå¹¶ä¸”å¤„äºå½“å‰æ•°åˆ—çš„å¤´éƒ¨ è¿™æ˜¯ä¸€ç§å¾ªç¯æ‰¾æå€¼çš„æ’åºç®—æ³• 12345678910111213function sort(data=[]) &#123; data = Object.assign([], data) for (var sp = 0; sp &lt; data.length - 1; sp++) &#123; for (var mp = sp + 1; mp &lt; data.length; mp++) &#123; if (data[mp] &lt; data[sp]) &#123; var temp = data[sp] data[sp] = data[mp] data[mp] = temp &#125; &#125; &#125; return data&#125; æ’å…¥æ’åºå¯ä»¥å…ˆæ‰¾å¤§çš„ï¼Œä¹Ÿå¯ä»¥å…ˆæ‰¾å°çš„ ä»ç¬¬äºŒé¡¹å¼€å§‹éå†ï¼Œä»å½“å‰é¡¹å¾€å‰æ£€æŸ¥ä¹‹å‰çš„é¡¹æ˜¯å¦æ¯”å½“å‰é¡¹å¤§ï¼Œå¦‚æœå¤§åˆ™ä¸¤é¡¹ä½ç½®äº’æ¢ï¼Œç„¶åé‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°æ£€æŸ¥å®Œæ‰€æœ‰ä¹‹å‰çš„é¡¹æˆ–è€…ç¢°åˆ°å°äºå½“å‰é¡¹çš„é¡¹ï¼Œå³åœ¨ä¹‹å‰çš„é¡¹ä¸­æ‰¾åˆ°é€‚åˆå½“å‰é¡¹çš„ä½ç½®ï¼Œå¹¶å°†é¡¹æ’å…¥åˆ°è¿™ä¸ªåˆé€‚çš„ä½ç½®ä¸Š ç”±äºæ¯ä¸€æ¬¡é¡¹æ’å…¥åçš„æ•°åˆ—éƒ½æ˜¯æœ‰åºçš„ï¼Œä¿è¯äº†å½“å‰é¡¹ä¹‹å‰çš„é¡¹ä¸€å®šæ˜¯æœ‰åºçš„ 12345678910111213function sort(data = []) &#123; data = Object.assign([], data) for (let i = 1; i &lt; data.length; i++) &#123; const temp = data[i] let j = i while (j &gt; 0 &amp;&amp; data[j - 1] &gt; temp) &#123; data[j] = data[j - 1] j -= 1 &#125; data[j] = temp &#125; return data&#125;","categories":[],"tags":[]},{"title":"ä½ç½®å±æ€§æ€»ç»“","slug":"ä½ç½®å±æ€§æ€»ç»“","date":"2018-11-06T15:11:18.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2018/11/ä½ç½®å±æ€§æ€»ç»“/","link":"","permalink":"https://hq229075284.github.io/blog/2018/11/%E4%BD%8D%E7%BD%AE%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93/","excerpt":"ä½ç½®å±æ€§æ€»ç»“ window element mouseEvent ä½ç½®å±æ€§æ€»ç»“ window æ— offsetParentå±æ€§ innerHeightæµè§ˆå™¨çª—å£çš„è§†å£ï¼ˆviewportï¼‰é«˜åº¦ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰ï¼Œå¦‚æœå­˜åœ¨æ°´å¹³æ»šåŠ¨æ¡ï¼Œåˆ™åŒ…æ‹¬å®ƒ outerHeightWindow.outerHeight è·å–æ•´ä¸ªæµè§ˆå™¨çª—å£çš„é«˜åº¦ï¼ˆå•ä½ï¼šåƒç´ ï¼‰ï¼ŒåŒ…æ‹¬ä¾§è¾¹æ ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€çª—å£é•¶è¾¹ï¼ˆwindow chromeï¼‰å’Œçª—å£è°ƒæ­£è¾¹æ¡†ï¼ˆwindow resizing borders/handlesï¼‰ innerWidthæµè§ˆå™¨è§†å£ï¼ˆviewportï¼‰å®½åº¦ï¼ˆå•ä½ï¼šåƒç´ ï¼‰ï¼Œå¦‚æœå­˜åœ¨å‚ç›´æ»šåŠ¨æ¡åˆ™åŒ…æ‹¬å®ƒã€‚ outerWidthWindow.outerWidth è·å–æµè§ˆå™¨çª—å£å¤–éƒ¨çš„å®½åº¦ã€‚è¡¨ç¤ºæ•´ä¸ªæµè§ˆå™¨çª—å£çš„å®½åº¦ï¼ŒåŒ…æ‹¬ä¾§è¾¹æ ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€çª—å£é•¶è¾¹ï¼ˆwindow chromeï¼‰å’Œè°ƒæ­£çª—å£å¤§å°çš„è¾¹æ¡†ï¼ˆwindow resizing borders/handlesï¼‰ screen availHeightå±å¹•ä¸­éå›ºå®šå ç”¨ç©ºé—´^å›ºå®šå ç”¨ç©ºé—´çš„é«˜åº¦ availLeftå±å¹•ä¸­éå›ºå®šå ç”¨ç©ºé—´çš„å·¦è¾¹\b\b\bç¦»æ˜¾ç¤ºå™¨å·¦è¾¹çš„è·ç¦» availTopå±å¹•ä¸­éå›ºå®šå ç”¨ç©ºé—´çš„é¡¶éƒ¨ç¦»æ˜¾ç¤ºå™¨\bé¡¶éƒ¨çš„è·ç¦» availWidthå±å¹•ä¸­éå›ºå®šå ç”¨ç©ºé—´çš„å®½åº¦ height\bæ˜¾ç¤ºå™¨çš„çºµå‘åˆ†è¾¨ç‡ width\bæ˜¾ç¤ºå™¨çš„æ¨ªå‘åˆ†è¾¨ç‡ screenLeftåŒscreen.availLeft screenTopåŒscreen.availTop screenXè¿”å›æµè§ˆå™¨å·¦è¾¹ç•Œåˆ°æ“ä½œç³»ç»Ÿæ¡Œé¢å·¦è¾¹ç•Œçš„æ°´å¹³è·ç¦» screenYè¿”å›æµè§ˆå™¨é¡¶éƒ¨è·ç¦»ç³»ç»Ÿæ¡Œé¢é¡¶éƒ¨çš„å‚ç›´è·ç¦» scrollXè¿”å›æ–‡æ¡£/é¡µé¢æ°´å¹³æ–¹å‘æ»šåŠ¨çš„åƒç´ å€¼ scrollYè¿”å›æ–‡æ¡£åœ¨å‚ç›´æ–¹å‘å·²æ»šåŠ¨çš„åƒç´ å€¼","text":"ä½ç½®å±æ€§æ€»ç»“ window element mouseEvent ä½ç½®å±æ€§æ€»ç»“ window æ— offsetParentå±æ€§ innerHeightæµè§ˆå™¨çª—å£çš„è§†å£ï¼ˆviewportï¼‰é«˜åº¦ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰ï¼Œå¦‚æœå­˜åœ¨æ°´å¹³æ»šåŠ¨æ¡ï¼Œåˆ™åŒ…æ‹¬å®ƒ outerHeightWindow.outerHeight è·å–æ•´ä¸ªæµè§ˆå™¨çª—å£çš„é«˜åº¦ï¼ˆå•ä½ï¼šåƒç´ ï¼‰ï¼ŒåŒ…æ‹¬ä¾§è¾¹æ ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€çª—å£é•¶è¾¹ï¼ˆwindow chromeï¼‰å’Œçª—å£è°ƒæ­£è¾¹æ¡†ï¼ˆwindow resizing borders/handlesï¼‰ innerWidthæµè§ˆå™¨è§†å£ï¼ˆviewportï¼‰å®½åº¦ï¼ˆå•ä½ï¼šåƒç´ ï¼‰ï¼Œå¦‚æœå­˜åœ¨å‚ç›´æ»šåŠ¨æ¡åˆ™åŒ…æ‹¬å®ƒã€‚ outerWidthWindow.outerWidth è·å–æµè§ˆå™¨çª—å£å¤–éƒ¨çš„å®½åº¦ã€‚è¡¨ç¤ºæ•´ä¸ªæµè§ˆå™¨çª—å£çš„å®½åº¦ï¼ŒåŒ…æ‹¬ä¾§è¾¹æ ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€çª—å£é•¶è¾¹ï¼ˆwindow chromeï¼‰å’Œè°ƒæ­£çª—å£å¤§å°çš„è¾¹æ¡†ï¼ˆwindow resizing borders/handlesï¼‰ screen availHeightå±å¹•ä¸­éå›ºå®šå ç”¨ç©ºé—´^å›ºå®šå ç”¨ç©ºé—´çš„é«˜åº¦ availLeftå±å¹•ä¸­éå›ºå®šå ç”¨ç©ºé—´çš„å·¦è¾¹\b\b\bç¦»æ˜¾ç¤ºå™¨å·¦è¾¹çš„è·ç¦» availTopå±å¹•ä¸­éå›ºå®šå ç”¨ç©ºé—´çš„é¡¶éƒ¨ç¦»æ˜¾ç¤ºå™¨\bé¡¶éƒ¨çš„è·ç¦» availWidthå±å¹•ä¸­éå›ºå®šå ç”¨ç©ºé—´çš„å®½åº¦ height\bæ˜¾ç¤ºå™¨çš„çºµå‘åˆ†è¾¨ç‡ width\bæ˜¾ç¤ºå™¨çš„æ¨ªå‘åˆ†è¾¨ç‡ screenLeftåŒscreen.availLeft screenTopåŒscreen.availTop screenXè¿”å›æµè§ˆå™¨å·¦è¾¹ç•Œåˆ°æ“ä½œç³»ç»Ÿæ¡Œé¢å·¦è¾¹ç•Œçš„æ°´å¹³è·ç¦» screenYè¿”å›æµè§ˆå™¨é¡¶éƒ¨è·ç¦»ç³»ç»Ÿæ¡Œé¢é¡¶éƒ¨çš„å‚ç›´è·ç¦» scrollXè¿”å›æ–‡æ¡£/é¡µé¢æ°´å¹³æ–¹å‘æ»šåŠ¨çš„åƒç´ å€¼ scrollYè¿”å›æ–‡æ¡£åœ¨å‚ç›´æ–¹å‘å·²æ»šåŠ¨çš„åƒç´ å€¼ element offsetParent:è¿”å›ä¸€ä¸ªæŒ‡å‘æœ€è¿‘çš„ï¼ˆclosestï¼ŒæŒ‡åŒ…å«å±‚çº§ä¸Šçš„æœ€è¿‘ï¼‰åŒ…å«è¯¥å…ƒç´ çš„å®šä½å…ƒç´ ã€‚å¦‚æœæ²¡æœ‰å®šä½çš„å…ƒç´ ï¼Œåˆ™ offsetParent ä¸ºæœ€è¿‘çš„ table, table cell æˆ–æ ¹å…ƒç´ ï¼ˆæ ‡å‡†æ¨¡å¼ä¸‹ä¸º htmlï¼›quirks æ¨¡å¼ä¸‹ä¸º bodyï¼‰ã€‚å½“å…ƒç´ çš„ style.display è®¾ç½®ä¸º â€œnoneâ€ æ—¶ï¼ŒoffsetParent è¿”å› null clientHeightå†…éƒ¨æ— å…¶å®ƒæœ‰é«˜åº¦çš„å…ƒç´ ä¸”æœ¬èº«æ²¡æœ‰è®¾ç½®ä¸é«˜åº¦æœ‰å…³çš„CSSçš„å¤–éƒ¨å…ƒç´ æˆ–è€…display:inlineçš„å…ƒç´ å€¼ä¸º0ï¼Œå…¶ä»–æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯å…ƒç´ å†…éƒ¨çš„é«˜åº¦(å•ä½åƒç´ )ï¼ŒåŒ…å«å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬æ°´å¹³æ»šåŠ¨æ¡ã€è¾¹æ¡†å’Œå¤–è¾¹è· clientWidthå…ƒç´ çš„å†…éƒ¨å®½åº¦ï¼Œä»¥åƒç´ è®¡ã€‚è¯¥å±æ€§åŒ…æ‹¬å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬å‚ç›´æ»šåŠ¨æ¡ï¼ˆå¦‚æœæœ‰ï¼‰ã€è¾¹æ¡†å’Œå¤–è¾¹è· clientLeftè¡¨ç¤ºä¸€ä¸ªå…ƒç´ çš„å·¦è¾¹æ¡†çš„å®½åº¦ï¼Œä»¥åƒç´ è¡¨ç¤ºã€‚å¦‚æœå…ƒç´ çš„æ–‡æœ¬æ–¹å‘æ˜¯ä»å³å‘å·¦ï¼ˆRTL, right-to-leftï¼‰ï¼Œå¹¶ä¸”ç”±äºå†…å®¹æº¢å‡ºå¯¼è‡´å·¦è¾¹å‡ºç°äº†ä¸€ä¸ªå‚ç›´æ»šåŠ¨æ¡ï¼Œåˆ™è¯¥å±æ€§åŒ…æ‹¬æ»šåŠ¨æ¡çš„å®½åº¦ã€‚clientLeft ä¸åŒ…æ‹¬å·¦å¤–è¾¹è·å’Œå·¦å†…è¾¹è· clientTopä¸€ä¸ªå…ƒç´ é¡¶éƒ¨è¾¹æ¡†çš„å®½åº¦ï¼ˆä»¥åƒç´ è¡¨ç¤ºï¼‰ã€‚ä¸åŒ…æ‹¬é¡¶éƒ¨å¤–è¾¹è·æˆ–å†…è¾¹è· offsetLeftå½“å‰å…ƒç´ å·¦ä¸Šè§’ç›¸å¯¹äº HTMLElement.offsetParent èŠ‚ç‚¹çš„å·¦è¾¹ç•Œåç§»çš„åƒç´ å€¼ offsetTopè¿”å›å½“å‰å…ƒç´ ç›¸å¯¹äºå…¶ offsetParent å…ƒç´ çš„é¡¶éƒ¨çš„è·ç¦» offsetHeightè¿”å›è¯¥å…ƒç´ çš„åƒç´ é«˜åº¦ï¼Œé«˜åº¦åŒ…å«è¯¥å…ƒç´ çš„å‚ç›´å†…è¾¹è·å’Œè¾¹æ¡†ï¼Œä¸”æ˜¯ä¸€ä¸ªæ•´æ•° offsetWidthè¿”å›ä¸€ä¸ªå…ƒç´ çš„å¸ƒå±€å®½åº¦ï¼ŒoffsetWidthæ˜¯æµ‹é‡åŒ…å«å…ƒç´ çš„è¾¹æ¡†(border)ã€æ°´å¹³çº¿ä¸Šçš„å†…è¾¹è·(padding)ã€ç«–ç›´æ–¹å‘æ»šåŠ¨æ¡(scrollbar)ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ã€ä»¥åŠCSSè®¾ç½®çš„å®½åº¦(width)çš„å€¼ scrollHeightè¿”å›å…ƒç´ å†…å®¹é«˜åº¦çš„åº¦é‡ï¼ŒåŒ…æ‹¬ç”±äºæº¢å‡ºå¯¼è‡´çš„è§†å›¾ä¸­ä¸å¯è§å†…å®¹ã€‚scrollHeight çš„å€¼ç­‰äºè¯¥å…ƒç´ åœ¨ä¸ä½¿ç”¨æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹ä¸ºäº†é€‚åº”è§†å£ä¸­æ‰€ç”¨å†…å®¹æ‰€éœ€çš„æœ€å°é«˜åº¦ scrollLeftè¯»å–æˆ–è®¾ç½®å…ƒç´ æ»šåŠ¨æ¡åˆ°å…ƒç´ å·¦è¾¹çš„è·ç¦» scrollTopè·å–æˆ–è®¾ç½®ä¸€ä¸ªå…ƒç´ çš„å†…å®¹å‚ç›´æ»šåŠ¨çš„åƒç´ æ•° scrollWidthè¿”å›å…ƒç´ çš„å†…å®¹åŒºåŸŸå®½åº¦æˆ–å…ƒç´ çš„æœ¬èº«çš„å®½åº¦ä¸­æ›´å¤§çš„é‚£ä¸ªå€¼â€“è‹¥å…ƒç´ çš„å®½åº¦å¤§äºå…¶å†…å®¹çš„åŒºåŸŸï¼ˆä¾‹å¦‚ï¼Œå…ƒç´ å­˜åœ¨æ»šåŠ¨æ¡æ—¶ï¼‰ mouseEvent clientXäº‹ä»¶å‘ç”Ÿæ—¶çš„åº”ç”¨å®¢æˆ·ç«¯åŒºåŸŸçš„æ°´å¹³åæ ‡ clientYæä¾›äº‹ä»¶å‘ç”Ÿæ—¶çš„åº”ç”¨å®¢æˆ·ç«¯åŒºåŸŸçš„å‚ç›´åæ ‡ layerX(éæ ‡å‡†) layerY(éæ ‡å‡†) movementXå½“å‰äº‹ä»¶å’Œä¸Šä¸€ä¸ªmousemoveäº‹ä»¶ä¹‹é—´é¼ æ ‡åœ¨æ°´å¹³æ–¹å‘ä¸Šçš„ç§»åŠ¨å€¼ movementYå½“å‰äº‹ä»¶å’Œä¸Šä¸€ä¸ª mousemove äº‹ä»¶ä¹‹é—´é¼ æ ‡åœ¨æ°´å¹³æ–¹å‘ä¸Šçš„ç§»åŠ¨å€¼ offsetX(å®éªŒä¸­çš„åŠŸèƒ½)äº‹ä»¶å¯¹è±¡ä¸ç›®æ ‡èŠ‚ç‚¹çš„å†…å¡«å……è¾¹ï¼ˆpadding edgeï¼‰åœ¨ X è½´æ–¹å‘ä¸Šçš„åç§»é‡ offsetY(å®éªŒä¸­çš„åŠŸèƒ½)äº‹ä»¶å¯¹è±¡ä¸ç›®æ ‡èŠ‚ç‚¹çš„å†…å¡«å……è¾¹ï¼ˆpadding edgeï¼‰åœ¨ Y è½´æ–¹å‘ä¸Šçš„åç§»é‡ pageXè¿”å›äº‹ä»¶å¯¹è±¡ç›¸å¯¹äºæ•´ä¸ªæ–‡æ¡£å·¦ä¾§çš„è·ç¦»ï¼ˆè€ƒè™‘é¡µé¢çš„æ°´å¹³æ–¹å‘ä¸Šçš„æ»šåŠ¨ï¼‰ pageYè¿”å›äº‹ä»¶å¯¹è±¡ç›¸å¯¹äºç›¸å¯¹äºæ•´ä¸ªæ–‡æ¡£ä¸Šä¾§è·ç¦»ï¼ˆè€ƒè™‘é¡µé¢çš„å‚ç›´æ–¹å‘ä¸Šçš„æ»šåŠ¨ï¼‰ screenXäº‹ä»¶å¯¹è±¡ç›¸å¯¹äºå±å¹•åæ ‡ç³»çš„æ°´å¹³åç§»é‡ screenYäº‹ä»¶å¯¹è±¡ç›¸å¯¹äºå±å¹•åæ ‡ç³»çš„å‚ç›´åç§»é‡ x(å®éªŒä¸­çš„åŠŸèƒ½)MouseEvent.clientX å±æ€§çš„åˆ«å y(å®éªŒä¸­çš„åŠŸèƒ½)MouseEvent.clientY å±æ€§çš„åˆ«å","categories":[],"tags":[]},{"title":"é¡µé¢ç¼©æ”¾ã€é€»è¾‘åƒç´ ä¸ç‰©ç†åƒç´ è½¬åŒ–","slug":"é¡µé¢ç¼©æ”¾ã€é€»è¾‘åƒç´ ä¸ç‰©ç†åƒç´ è½¬åŒ–","date":"2018-10-01T13:56:00.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2018/10/é¡µé¢ç¼©æ”¾ã€é€»è¾‘åƒç´ ä¸ç‰©ç†åƒç´ è½¬åŒ–/","link":"","permalink":"https://hq229075284.github.io/blog/2018/10/%E9%A1%B5%E9%9D%A2%E7%BC%A9%E6%94%BE%E3%80%81%E9%80%BB%E8%BE%91%E5%83%8F%E7%B4%A0%E4%B8%8E%E7%89%A9%E7%90%86%E5%83%8F%E7%B4%A0%E8%BD%AC%E5%8C%96/","excerpt":"","text":"é¡µé¢ç¼©æ”¾&lt;meta name=â€viewportâ€ content=â€width=device-width, initial-scale=scaleâ€œ/&gt; ç‰©ç†å±ï¼šçœŸæ­£å±•ç°å›¾åƒçš„å±å¹•ï¼Œæ­¤å±ä¸Šçš„åƒç´ ç§°ä¸ºç‰©ç†åƒç´ é€»è¾‘å±ï¼šcsså±‚é¢ä¸Šå¸ƒå±€çš„å±å¹•ï¼Œæ­¤å±ä¸Šçš„åƒç´ ç§°ä¸ºé€»è¾‘åƒç´  ä»¥ä¸Š\bçš„scaleæŒ‡çš„å°±æ˜¯é¡µé¢çš„ç¼©æ”¾å€æ•°ï¼Œç¬¦åˆå…¬å¼ï¼š å…ƒç´ åœ¨ç‰©ç†å±ä¸Šå¸ƒå±€çš„å®½åº¦ = å…ƒç´ åœ¨é€»è¾‘å±ä¸Šå¸ƒå±€çš„å®½åº¦ * scale * devicePixelRatio é€»è¾‘åƒç´  * devicePixelRatio = ç‰©ç†åƒç´ ï¼ˆå³å®é™…ç”¨æˆ·çœ‹åˆ°çš„ç”»é¢ï¼‰ æ‰€ä»¥scaleçš„è®¡ç®—å…¬å¼ï¼šscale = å…ƒç´ åœ¨ç‰©ç†å±ä¸Šå¸ƒå±€çš„å®½åº¦ / (å…ƒç´ åœ¨é€»è¾‘å±ä¸Šå¸ƒå±€çš„å®½åº¦ * devicePixelRatio) ä¸€èˆ¬æ¥è¯´devicePixelRatioåœ¨pcä¸Šä¸º1ï¼Œæ‰‹æœºç«¯ä¸Šå¸¸è§çš„æ˜¯2å’Œ3","categories":[],"tags":[]},{"title":"æµ®ç‚¹æ•°çš„è¡¨ç¤ºä¸è®¡ç®—","slug":"æµ®ç‚¹æ•°çš„è¡¨ç¤ºä¸è®¡ç®—","date":"2018-08-31T13:12:06.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2018/08/æµ®ç‚¹æ•°çš„è¡¨ç¤ºä¸è®¡ç®—/","link":"","permalink":"https://hq229075284.github.io/blog/2018/08/%E6%B5%AE%E7%82%B9%E6%95%B0%E7%9A%84%E8%A1%A8%E7%A4%BA%E4%B8%8E%E8%AE%A1%E7%AE%97/","excerpt":"","text":"[TOC] æµ®ç‚¹æ•°çš„è¡¨ç¤ºä¸è®¡ç®—IEEE754ä¸­è§„å®šäº†64ä½æµ®ç‚¹æ•°çš„æ ¼å¼ï¼š ç¬¦å·ä½ï¼ˆ1bitï¼‰,å–å€¼èŒƒå›´ï¼š[0,1] æŒ‡æ•°ä½ï¼ˆ11bitï¼‰,å–å€¼èŒƒå›´ï¼š[1,2046] å°¾æ•°ä½ï¼ˆ52bitï¼‰,å–å€¼èŒƒå›´ï¼š[0,2^53-1]","categories":[],"tags":[]},{"title":"git-flow-introduction","slug":"git-flow-introduction","date":"2018-05-23T01:44:24.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2018/05/git-flow-introduction/","link":"","permalink":"https://hq229075284.github.io/blog/2018/05/git-flow-introduction/","excerpt":"","text":"Git å¼€å‘æµç¨‹ å¼€å§‹ä¸€ä¸ªæ–°åŠŸèƒ½çš„å¼€å‘ (Work on a Feature) 1. å»ºç«‹æ–°çš„åˆ†æ”¯ $ git checkout -b feature/- ä¾‹å¦‚: feature/chb-add-wishlist å¦‚æœæ˜¯bugfix, branchå‘½åä»¥bugfixå¼€å§‹ ä¾‹å¦‚: bugfix/chb-some-user-cannot-login 2. å¼€å‘åŠŸèƒ½å¹¶æµ‹è¯•3. æäº¤ä¿®æ”¹$ git push origin 4.åœ¨githubä¸Šåˆ›å»ºpull request, æ‰¾äººåšä»£ç å®¡æ ¸ï¼ˆå¯è·³è¿‡ï¼‰ç‰¹åˆ«æé†’ï¼šåˆ›å»ºçš„pull requeståº”æ˜¯åŠŸèƒ½åˆ†æ”¯åˆ°developåˆ†æ”¯ 5. å®¡æ ¸ï¼ˆæˆ–è‡ªå®¡ï¼‰é€šè¿‡åï¼Œæ¸…ç†æäº¤è®°å½•12345git checkout develop git pull origin develop git checkout &lt;feature branch name&gt; git rebase -i develop git push origin &lt;feature branch name&gt; -f ç›®æ ‡ï¼šå°†æ‰€æœ‰çš„commitsæ•´ç†æˆä¸€ä¸ªæˆ–è€…å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„commitï¼Œå¹¶ç¡®ä¿æ–°çš„ä»£ç ä¼šå‡ºç°åœ¨developåˆ†æ”¯ç°æœ‰ä»£ç ä¹‹åï¼Œä»¥ä¿æŒæäº¤å†å²çš„æ•´æ´æ€§ åœ¨è¿™ä¸€æ­¥å¯èƒ½ä¼šå‡ºç°conflicts, éœ€è¦äººå·¥è§£å†³ æ³¨ï¼šå‰ä¸‰æ­¥æ“ä½œå¯ä»¥ç”¨git aliasæ¥ç®€åŒ–, éœ€è¦åœ¨~/.gitconfigé…ç½®ä¸€ä¸‹gitçš„alias 12$ ~/.gitconfig [alias] sync = \"!f() &#123; echo Syncing $1 with develop &amp;&amp; git checkout develop &amp;&amp; git pull origin develop &amp;&amp; git checkout $1 &amp;&amp; git rebase -i develop; &#125;; f\"$ git sync &lt;feature branch name&gt; 6. åœ¨githubä¸Šmerge pull requestå¹¶åˆ é™¤åˆ†æ”¯7. ç»ˆç»“è¿™ä¸ªåŠŸèƒ½åˆ†æ”¯ $ git checkout develop &amp;&amp; git pull origin develop &amp;&amp; git branch -d","categories":[],"tags":[]},{"title":"ä½¿ç”¨è¿‡çš„å·¥å…·å’Œåº“","slug":"ä½¿ç”¨è¿‡çš„å·¥å…·å’Œåº“","date":"2018-05-21T20:57:22.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2018/05/ä½¿ç”¨è¿‡çš„å·¥å…·å’Œåº“/","link":"","permalink":"https://hq229075284.github.io/blog/2018/05/%E4%BD%BF%E7%94%A8%E8%BF%87%E7%9A%84%E5%B7%A5%E5%85%B7%E5%92%8C%E5%BA%93/","excerpt":"","text":"å·¥å…· åç§°/åœ°å€ æè¿° ç‰ˆæœ¬ minzipped sortable å‰ç«¯æ‹–æ‹½åŠŸèƒ½ç»„ä»¶ 1.9.0 9.3KB yapi æä¾›mockæœåŠ¡çš„ç³»ç»Ÿ â€“ handsontable ç±»Excel sheetè§†å›¾å·¥å…· 7.0.3 310.5KB scrollbooster ç‚¹å‡»æ‹–æ‹½è¡¨æ ¼å·¦å³æ»‘åŠ¨ï¼Œå¯ä»¥ä¼˜åŒ–windowä¸‹æ¨ªå‘æ»šåŠ¨æ¡çš„ç”¨æˆ·ä½“éªŒ 2.7KB eruda åœ¨æ‰‹æœºç«¯æ¨¡æ‹Ÿbrowserçš„devtoolè¿›è¡Œè°ƒè¯• 1.5.5 123.8KB docute é€šè¿‡markdownç”Ÿæˆå•é¡µåº”ç”¨ â€“ infinite-scroll jQueryæ— é™æ»šåŠ¨ 3.0.6 5.2KB Puppeteer chromeå‡ºå“çš„headless Node Api â€“ granim èƒŒæ™¯æ¸å˜æ’ä»¶ 2.0.0 4.7KB nanoid å”¯ä¸€idç”Ÿæˆå™¨ 2.0.3 286B superstruct ç®€æ˜“å¯è‡ªå®šä¹‰æ•°æ®ç±»å‹éªŒè¯å™¨ 0.6.1 3.2KB draggable æ‹–æ‹½åº“ 1.0.0-beta.8 11.8KB dragula æ‹–æ‹½åº“ 3.7.2 3.7KB webpackmonitor webpackæ‰“åŒ…åçš„èµ„æºæŸ¥çœ‹å™¨ â€“ webpack-bundle-analyzer webpackæ‰“åŒ…åçš„èµ„æºæŸ¥çœ‹å™¨ â€“ lozad å›¾ç‰‡å’Œiframeæ‡’åŠ è½½ 1.9.0 972B workbox Chromeå‡ºå“çš„PWAåº“ 4.3.1 802B commitizen git commit æ ¼å¼åŒ–message â€“ conf åœ¨æœ¬åœ°ç£ç›˜ä¸­åˆ›å»ºé…ç½®æ–‡ä»¶ â€“ Numeral-js å¯¹æ•°å­—è¿›è¡Œæ ¼å¼åŒ–åŠç®€å•çš„åŠ å‡æ“ä½œ 2.0.6 3.8KB hammer.js æ‰‹åŠ¿åº“ 2.0.8 6.9KB anime åŠ¨ç”»åº“ 3.0.1 6.8KB marked markdownè½¬ç å™¨ 0.6.3 7.7kB","categories":[],"tags":[]},{"title":"webpacké’ˆå¯¹å¾ªç¯å¼•ç”¨ä»¥åŠèµ‹å€¼exportçš„å¤„ç†æ³¨æ„äº‹é¡¹","slug":"webpacké’ˆå¯¹å¾ªç¯å¼•ç”¨ä»¥åŠèµ‹å€¼exportçš„å¤„ç†æ³¨æ„äº‹é¡¹","date":"2018-03-08T22:04:19.000Z","updated":"2022-08-31T01:14:17.716Z","comments":true,"path":"2018/03/webpacké’ˆå¯¹å¾ªç¯å¼•ç”¨ä»¥åŠèµ‹å€¼exportçš„å¤„ç†æ³¨æ„äº‹é¡¹/","link":"","permalink":"https://hq229075284.github.io/blog/2018/03/webpack%E9%92%88%E5%AF%B9%E5%BE%AA%E7%8E%AF%E5%BC%95%E7%94%A8%E4%BB%A5%E5%8F%8A%E8%B5%8B%E5%80%BCexport%E7%9A%84%E5%A4%84%E7%90%86%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/","excerpt":"webpackæ‰“åŒ…ç›¸äº’å¼•ç”¨çš„æ¨¡å— ç¤ºä¾‹é¡¹ç›® é‡åˆ°çš„é—®é¢˜ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ å¦‚ä½•è§£å†³ webpackæ‰“åŒ…ç›¸äº’å¼•ç”¨çš„æ¨¡å—ç¤ºä¾‹é¡¹ç›®(github) é‡åˆ°çš„é—®é¢˜åœ¨æœ‰2ä¸ªæˆ–2ä¸ªä»¥ä¸Šçš„æ–‡ä»¶ä¹‹é—´çš„ç›¸äº’ä¾èµ–å…³ç³»æ„æˆé—­ç¯çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¼šå‡ºç°Can't read Property 'xxx' of undefinedæˆ–è€…(0,xxx) is not a functionè¿™ç±»çš„é”™è¯¯ï¼Œæ¯”å¦‚ï¼š 1ç¤ºä¾‹é¡¹ç›®ä¸­çš„src&#x2F;index.jså¼•ç”¨src&#x2F;a.js,è€Œsrc&#x2F;a.jsä¸­ä¹Ÿå¼•ç”¨äº†src&#x2F;index.js ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜","text":"webpackæ‰“åŒ…ç›¸äº’å¼•ç”¨çš„æ¨¡å— ç¤ºä¾‹é¡¹ç›® é‡åˆ°çš„é—®é¢˜ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ å¦‚ä½•è§£å†³ webpackæ‰“åŒ…ç›¸äº’å¼•ç”¨çš„æ¨¡å—ç¤ºä¾‹é¡¹ç›®(github) é‡åˆ°çš„é—®é¢˜åœ¨æœ‰2ä¸ªæˆ–2ä¸ªä»¥ä¸Šçš„æ–‡ä»¶ä¹‹é—´çš„ç›¸äº’ä¾èµ–å…³ç³»æ„æˆé—­ç¯çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¼šå‡ºç°Can't read Property 'xxx' of undefinedæˆ–è€…(0,xxx) is not a functionè¿™ç±»çš„é”™è¯¯ï¼Œæ¯”å¦‚ï¼š 1ç¤ºä¾‹é¡¹ç›®ä¸­çš„src&#x2F;index.jså¼•ç”¨src&#x2F;a.js,è€Œsrc&#x2F;a.jsä¸­ä¹Ÿå¼•ç”¨äº†src&#x2F;index.js ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ è¿™å°±è·Ÿwebpackæ‰“åŒ…åçš„ä»£ç æ‰§è¡Œé€»è¾‘æœ‰å…³ webpackçš„å¤´éƒ¨å¯åŠ¨ä»£ç ä¸­ï¼Œé€šè¿‡é—­åŒ…ä¸­çš„installedModuleså¯¹è±¡ï¼Œå°†æ¨¡å—åæˆ–è€…idä½œä¸ºå¯¹è±¡çš„keyæ¥ç¼“å­˜å„ä¸ªæ¨¡å—çš„exportçš„å€¼ï¼Œé€šè¿‡åˆ¤æ–­installedModulesä¸Šæ˜¯å¦ç¼“å­˜äº†å¯¹åº”æ¨¡å—çš„keyæ¥åˆ¤æ–­æ˜¯å¦å·²ç»åŠ è½½äº†æ¨¡å— 123456789101112// Check if module is in cacheif(installedModules[moduleId]) &#123; return installedModules[moduleId].exports;&#125;// Create a new module (and put it into the cache)var module = installedModules[moduleId] = &#123; i: moduleId, l: false, exports: &#123;&#125;&#125;;// Execute the module functionmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__) ä½†å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå½“æ¨¡å—è¿˜å¤„äºç¬¬ä¸€æ¬¡æ‰§è¡Œä¸­çš„çŠ¶æ€æ—¶ï¼Œå¦‚æœç¢°åˆ°ç›¸äº’å¼•ç”¨çš„æƒ…å†µçš„è¯ï¼Œwebpackå¯èƒ½ä¼šè®¤ä¸ºä¸€ä¸ªæ²¡æœ‰å®Œå…¨åŠ è½½å®Œæˆçš„æ¨¡å—å·²ç»åŠ è½½å®Œäº† å°±æ‹¿export function.jsä¸­çš„ä»£ç å’Œexport const _var.jsä¸­çš„ä»£ç ä¸ºä¾‹: export function.js 12345678910111213141516171819202122/***/ (function(module, exports, __webpack_require__) &#123; \"use strict\"; Object.defineProperty(exports, \"__esModule\", &#123; value: true &#125;); exports._console = _console;// &lt;- ğŸ“¢æ³¨æ„è¿™é‡Œ var _a = __webpack_require__(2); var _a2 = _interopRequireDefault(_a); function _interopRequireDefault(obj) &#123; return obj &amp;&amp; obj.__esModule ? obj : &#123; default: obj &#125;; &#125; function _console() &#123; console.log('this is index.js'); &#125; /***/ &#125;), export const _var.js 12345678910111213141516171819202122/***/ (function(module, exports, __webpack_require__) &#123;\"use strict\";Object.defineProperty(exports, \"__esModule\", &#123; value: true&#125;);exports._console = undefined;// &lt;- ğŸ“¢æ³¨æ„è¿™é‡Œvar _a = __webpack_require__(2);var _a2 = _interopRequireDefault(_a);function _interopRequireDefault(obj) &#123; return obj &amp;&amp; obj.__esModule ? obj : &#123; default: obj &#125;; &#125;var _console = exports._console = function _console() &#123; console.log('this is index.js');&#125;;/***/ &#125;), ä»ä¸Šé¢ä¸¤æ®µä»£ç çš„ğŸ“¢å¤„ä»£ç è¡Œå¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨èµ‹å€¼è¯­å¥exportçš„ä»£ç æ‰“åŒ…åï¼Œå¯¹exportsä¸Šçš„å±æ€§çš„èµ‹å€¼å°†åœ¨import(ä¹Ÿå°±æ˜¯webpack_require__)åï¼Œå¦ä¸€ç§ä½¿ç”¨ç”³æ˜å‡½æ•°è¯­å¥exportçš„ä»£ç æ‰“åŒ…åï¼Œå¯¹exportsä¸Šçš„å±æ€§çš„èµ‹å€¼å°†åœ¨import(ä¹Ÿå°±æ˜¯__webpack_require)å‰ã€‚ è¿™ç‚¹ç»†å¾®çš„åŒºåˆ«åœ¨æ‰§è¡Œç›¸äº’å¼•ç”¨çš„ä»£ç æ—¶ä¼šå¯¼è‡´æ‰§è¡Œç»“æœå’Œä½ æƒ³çš„ä¸ä¸€æ ·ï¼Œè¯•æƒ³ä¸€ä¸‹ä»¥ä¸‹çš„ä»£ç æ‰§è¡Œè¿‡ç¨‹ï¼š åœ¨installedModuleså¯¹è±¡ä¸Šè®¾ç½®index.jsçš„key,åŠ è½½index.jså¹¶æ‰§è¡Œ é‡åˆ°import a.js åœ¨installedModuleså¯¹è±¡ä¸Šè®¾ç½®a.jsçš„key,åŠ è½½a.jså¹¶æ‰§è¡Œ é‡åˆ°import index.js æ£€æŸ¥ï¼Œå‘ç°installedModulesä¸Šå·²ç»å­˜åœ¨index.jsçš„key,ç›´æ¥è¯»å¯¹è±¡ä¸Šç¼“å­˜çš„exports(å…¶å®è¿™é‡Œå¯èƒ½åªåœ¨exportså£°æ˜äº†å±æ€§åï¼Œå¹¶æ²¡æœ‰èµ‹å€¼) æ‰§è¡Œexportsä¸Šçš„_consoleå‡½æ•°(å¦‚æœå±æ€§è¿˜æ²¡æœ‰è¢«èµ‹å€¼å°±ä¼šå‡ºé”™) exportçš„æ–¹å¼ä¼šå½±å“ä»¥ä¸Šè¿‡ç¨‹çš„5ã€6æ­¥éª¤ å¦‚ä½•è§£å†³ æ‰“ç ´æ–‡ä»¶é—´çš„ä¾èµ–å…³ç³»çš„é—­ç¯ ä¾èµ–å…³ç³»é—­ç¯çš„æƒ…å†µä¸‹ï¼Œåªä½¿ç”¨export function funcName(){}","categories":[],"tags":[]},{"title":"reactä¸­Contextçš„ä¼ é€’","slug":"reactä¸­Contextçš„ä¼ é€’","date":"2017-08-22T00:58:52.000Z","updated":"2022-08-31T01:14:17.712Z","comments":true,"path":"2017/08/reactä¸­Contextçš„ä¼ é€’/","link":"","permalink":"https://hq229075284.github.io/blog/2017/08/react%E4%B8%ADContext%E7%9A%84%E4%BC%A0%E9%80%92/","excerpt":"ccontextçš„ä¼ é€’æ–¹å‘æ˜¯ç”±å®šä¹‰äº†æ ¹æ•°æ®æºçš„ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’ï¼Œçˆ¶çº§ é€šè¿‡getChildContextï¼ˆClassï¼‰åœ¨contextä¸Šå®šä¹‰è¦ä¼ é€’ç»™å­çº§çš„æ•°æ® é€šè¿‡ç»„ä»¶ï¼ˆClassï¼‰çš„childContextTypeså®šä¹‰ä¼ é€’ç»™å­çº§æ•°æ®çš„æ•°æ®ç±»å‹ ä¸Šä¸Šçº§ç»„ä»¶ä¼ é€’çš„contextæ•°æ®å¯ä»¥è¢«ä¸Šçº§ç»„ä»¶åŒkeyçš„contextæ•°æ®æ‰€æ›¿æ¢ï¼Œæ¯”å¦‚ï¼š 12345678910111213141516171819202122232425262728293031323334// Appimport React from \"react\";import PropTypes from \"prop-types\";import Parent from \"./Parent\";import Child from \"./Child\";class App extends React.Component &#123; getChildContext() &#123; return &#123; from: \"this is from App\" &#125;; &#125; render() &#123; console.log(\"App_Context--&gt;\", this.context); return ( &lt;div className=\"container\"&gt; &lt;Parent&gt; &lt;Child /&gt; &lt;/Parent&gt; &lt;/div&gt; ); &#125;&#125;App.childContextTypes = &#123; from: PropTypes.string&#125;;App.contextTypes = &#123; from: PropTypes.string,&#125;;export default App","text":"ccontextçš„ä¼ é€’æ–¹å‘æ˜¯ç”±å®šä¹‰äº†æ ¹æ•°æ®æºçš„ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’ï¼Œçˆ¶çº§ é€šè¿‡getChildContextï¼ˆClassï¼‰åœ¨contextä¸Šå®šä¹‰è¦ä¼ é€’ç»™å­çº§çš„æ•°æ® é€šè¿‡ç»„ä»¶ï¼ˆClassï¼‰çš„childContextTypeså®šä¹‰ä¼ é€’ç»™å­çº§æ•°æ®çš„æ•°æ®ç±»å‹ ä¸Šä¸Šçº§ç»„ä»¶ä¼ é€’çš„contextæ•°æ®å¯ä»¥è¢«ä¸Šçº§ç»„ä»¶åŒkeyçš„contextæ•°æ®æ‰€æ›¿æ¢ï¼Œæ¯”å¦‚ï¼š 12345678910111213141516171819202122232425262728293031323334// Appimport React from \"react\";import PropTypes from \"prop-types\";import Parent from \"./Parent\";import Child from \"./Child\";class App extends React.Component &#123; getChildContext() &#123; return &#123; from: \"this is from App\" &#125;; &#125; render() &#123; console.log(\"App_Context--&gt;\", this.context); return ( &lt;div className=\"container\"&gt; &lt;Parent&gt; &lt;Child /&gt; &lt;/Parent&gt; &lt;/div&gt; ); &#125;&#125;App.childContextTypes = &#123; from: PropTypes.string&#125;;App.contextTypes = &#123; from: PropTypes.string,&#125;;export default App 12345678910111213141516171819202122232425262728293031// Parentimport React from \"react\";import PropTypes from \"prop-types\";class Parent extends React.Component &#123; getChildContext() &#123; return &#123; from: \"this is from Parent\", &#125;; &#125; render() &#123; console.log(\"Parent_Context--&gt;\", this.context); return ( &lt;div className=\"parent\"&gt; this is parent &lt;hr /&gt; &#123;this.props.children&#125; &lt;/div&gt; ); &#125;&#125;Parent.childContextTypes = &#123; from: PropTypes.string,&#125;;Parent.contextTypes = &#123; from: PropTypes.string,&#125;;export default Parent; 12345678910111213141516// Childimport React from \"react\";import PropTypes from \"prop-types\";class Child extends React.Component &#123; render() &#123; console.log(\"Child_Context--&gt;\", this.context); return &lt;div className=\"children\"&gt;this is children&lt;/div&gt;; &#125;&#125;Child.contextTypes = &#123; from: PropTypes.string,&#125;;export default Child; è¾“å‡ºï¼š å¦‚æœè¦å°†Childç»„ä»¶çš„çˆ¶çº§ç»„ä»¶ç›´æ¥æŒ‚è½½åœ¨Domä¸Šï¼ŒChildç»„ä»¶æ˜¯æ‹¿ä¸åˆ°Appæˆ–è€…Parentç»„ä»¶ä¼ é€’è¿‡æ¥çš„contextï¼Œæ¯”å¦‚å°†ä¸Šè¿°çš„Parent.jsæ”¹å†™ä¸ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839// Parentimport React from \"react\";import ReactDOM from \"react-dom\";import PropTypes from \"prop-types\";class Parent extends React.Component &#123; getChildContext() &#123; return &#123; from: \"this is from Parent\" &#125;; &#125; componentDidMount() &#123; var div = document.createElement(\"div\"); document.body.appendChild(div); ReactDOM.render( &lt;div className=\"parent\"&gt; this is parent &lt;hr /&gt; &#123;this.props.children&#125; &lt;/div&gt;, div ); &#125; render() &#123; console.log(\"Parent_Context--&gt;\", this.context); return null; &#125;&#125;Parent.childContextTypes = &#123; from: PropTypes.string&#125;;Parent.contextTypes = &#123; from: PropTypes.string&#125;;export default Parent; è¾“å‡ºï¼š æ­¤æ—¶åœ¨Childç»„ä»¶ä¸­å°±è·å–ä¸åˆ°çˆ¶çº§ä¼ é€’ä¸‹æ¥çš„contextï¼Œç»„ä»¶çš„æ„æˆå¦‚ä¸‹ï¼š å¦‚å›¾å¯çŸ¥Appä¸­ç”³æ˜çš„contextï¼Œåªèƒ½åœ¨å…¶å­ç»„ä»¶ä¸­è¢«è®¿é—®ï¼Œè€ŒParentç»„ä»¶ä¸­é€šè¿‡ReactDom.renderçš„æ–¹å¼æŒ‚è½½åˆ°bodyä¸Šï¼Œæ­¤æ—¶æŒ‚è½½çš„ç»„ä»¶å·²ç»ä¸å†æ˜¯Appçš„å­ç»„ä»¶äº†ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸èƒ½è®¿é—®åˆ°Appçš„contextäº† è™½ç„¶æ— æ³•ç›´æ¥è·å–Appä¸­çš„contextï¼Œä½†renderä¸­è¿”å›nullçš„Parentç»„ä»¶ï¼Œå¯ä»¥è®¿é—®Appçš„contextï¼Œæ‰€ä»¥å¯ä»¥å€ŸåŠ©Parentç»„ä»¶ï¼Œå°†å…¶ä½œä¸ºä¸€ä¸ªä¸­é—´ä»¶ï¼Œæ¯”å¦‚ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// Parentimport React from \"react\";import ReactDOM from \"react-dom\";import PropTypes from \"prop-types\";class Parent extends React.Component &#123; componentDidMount() &#123; var div = document.createElement(\"div\"); document.body.appendChild(div); ReactDOM.render( &lt;div className=\"parent\"&gt; this is parent &lt;hr /&gt; &lt;MiddleWare context=&#123;this.context&#125;&gt;&#123;this.props.children&#125;&lt;/MiddleWare&gt; &lt;/div&gt;, div ); &#125; render() &#123; console.log(\"Parent_Context--&gt;\", this.context); return null; &#125;&#125;Parent.contextTypes = &#123; from: PropTypes.string&#125;;export default Parent;class MiddleWare extends React.Component &#123; getChildContext() &#123; return &#123; from: this.props.context.from, desc: \"deal with middleware\" &#125;; &#125; render() &#123; return this.props.children; &#125;&#125;MiddleWare.childContextTypes = &#123; from: PropTypes.string, desc: PropTypes.string&#125;; è¾“å‡ºï¼š","categories":[],"tags":[]}]}